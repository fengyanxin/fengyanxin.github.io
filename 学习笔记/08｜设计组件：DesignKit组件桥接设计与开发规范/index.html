<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"fengyanxin.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":true,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="DesignKit 组件桥接设计与开发规范">
<meta property="og:type" content="article">
<meta property="og:title" content="【iOS进阶】08 | 设计组件：DesignKit组件桥接设计与开发规范">
<meta property="og:url" content="https://fengyanxin.github.io/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/08%EF%BD%9C%E8%AE%BE%E8%AE%A1%E7%BB%84%E4%BB%B6%EF%BC%9ADesignKit%E7%BB%84%E4%BB%B6%E6%A1%A5%E6%8E%A5%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%BC%80%E5%8F%91%E8%A7%84%E8%8C%83/index.html">
<meta property="og:site_name" content="凤炎忻的个人笔记">
<meta property="og:description" content="DesignKit 组件桥接设计与开发规范">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://raw.githubusercontent.com/fengyanxin/YXBlogPic/main/17373431283113.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/fengyanxin/YXBlogPic/main/17373431509846.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/fengyanxin/YXBlogPic/main/17373431685601.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/fengyanxin/YXBlogPic/main/17373431939202.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/fengyanxin/YXBlogPic/main/17373431283113.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/fengyanxin/YXBlogPic/main/17373534365111.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/fengyanxin/YXBlogPic/main/17373535574754.jpg">
<meta property="article:published_time" content="2025-01-20T03:17:14.000Z">
<meta property="article:modified_time" content="2025-05-15T02:05:43.000Z">
<meta property="article:author" content="凤炎忻">
<meta property="article:tag" content="学习笔记">
<meta property="article:tag" content="iOS">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://raw.githubusercontent.com/fengyanxin/YXBlogPic/main/17373431283113.jpg">

<link rel="canonical" href="https://fengyanxin.github.io/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/08%EF%BD%9C%E8%AE%BE%E8%AE%A1%E7%BB%84%E4%BB%B6%EF%BC%9ADesignKit%E7%BB%84%E4%BB%B6%E6%A1%A5%E6%8E%A5%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%BC%80%E5%8F%91%E8%A7%84%E8%8C%83/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/ilyabirman-likely@2/release/likely.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/theme-next/theme-next-needmoreshare2@1/needsharebutton.min.css"><style>
#needsharebutton-postbottom {
  cursor: pointer;
  height: 26px;
  margin-top: 10px;
  position: relative;
}
#needsharebutton-postbottom .btn {
  border: 1px solid $btn-default-border-color;
  border-radius: 3px;
  display: initial;
  padding: 1px 4px;
}
</style>
  <title>【iOS进阶】08 | 设计组件：DesignKit组件桥接设计与开发规范 | 凤炎忻的个人笔记</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="凤炎忻的个人笔记" type="application/atom+xml">
<style>.darkmode--activated{--body-bg-color:#282828;--content-bg-color:#333;--card-bg-color:#555;--text-color:#ccc;--blockquote-color:#bbb;--link-color:#ccc;--link-hover-color:#eee;--brand-color:#ddd;--brand-hover-color:#ddd;--table-row-odd-bg-color:#282828;--table-row-hover-bg-color:#363636;--menu-item-bg-color:#555;--btn-default-bg:#222;--btn-default-color:#ccc;--btn-default-border-color:#555;--btn-default-hover-bg:#666;--btn-default-hover-color:#ccc;--btn-default-hover-border-color:#666;--highlight-background:#282b2e;--highlight-foreground:#a9b7c6;--highlight-gutter-background:#34393d;--highlight-gutter-foreground:#9ca9b6}.darkmode--activated img{opacity:.75}.darkmode--activated img:hover{opacity:.9}.darkmode--activated code{color:#69dbdc;background:0 0}button.darkmode-toggle{z-index:9999}.darkmode-ignore,img{display:flex!important}.beian img{display:inline-block!important}</style></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">凤炎忻的个人笔记</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">我有一壶酒，足以慰风尘！</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section">首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section">标签<span class="badge">9</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section">分类<span class="badge">7</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section">归档<span class="badge">44</span></a>

  </li>
        <li class="menu-item menu-item-commonweal">

    <a href="/404/" rel="section">公益 404</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger">搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://fengyanxin.github.io/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/08%EF%BD%9C%E8%AE%BE%E8%AE%A1%E7%BB%84%E4%BB%B6%EF%BC%9ADesignKit%E7%BB%84%E4%BB%B6%E6%A1%A5%E6%8E%A5%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%BC%80%E5%8F%91%E8%A7%84%E8%8C%83/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/flyingPig.jpeg">
      <meta itemprop="name" content="凤炎忻">
      <meta itemprop="description" content="性浮脱，难酬一道，广涉寡精，杂而不博">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="凤炎忻的个人笔记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          【iOS进阶】08 | 设计组件：DesignKit组件桥接设计与开发规范
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2025-01-20 11:17:14" itemprop="dateCreated datePublished" datetime="2025-01-20T11:17:14+08:00">2025-01-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-05-15 10:05:43" itemprop="dateModified" datetime="2025-05-15T10:05:43+08:00">2025-05-15</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">学习笔记</span></a>
                </span>
            </span>

          
            <span id="/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/08%EF%BD%9C%E8%AE%BE%E8%AE%A1%E7%BB%84%E4%BB%B6%EF%BC%9ADesignKit%E7%BB%84%E4%BB%B6%E6%A1%A5%E6%8E%A5%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%BC%80%E5%8F%91%E8%A7%84%E8%8C%83/" class="post-meta-item leancloud_visitors" data-flag-title="【iOS进阶】08 | 设计组件：DesignKit组件桥接设计与开发规范" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/08%EF%BD%9C%E8%AE%BE%E8%AE%A1%E7%BB%84%E4%BB%B6%EF%BC%9ADesignKit%E7%BB%84%E4%BB%B6%E6%A1%A5%E6%8E%A5%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%BC%80%E5%8F%91%E8%A7%84%E8%8C%83/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/08%EF%BD%9C%E8%AE%BE%E8%AE%A1%E7%BB%84%E4%BB%B6%EF%BC%9ADesignKit%E7%BB%84%E4%BB%B6%E6%A1%A5%E6%8E%A5%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%BC%80%E5%8F%91%E8%A7%84%E8%8C%83/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>5.4k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>20 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="DesignKit-组件桥接设计与开发规范"><a href="#DesignKit-组件桥接设计与开发规范" class="headerlink" title="DesignKit 组件桥接设计与开发规范"></a>DesignKit 组件桥接设计与开发规范</h1><p><img data-src="https://raw.githubusercontent.com/fengyanxin/YXBlogPic/main/17373431283113.jpg"></p>
<span id="more"></span>

<p>在上一模块“配置与规范”中，我主要介绍了如何统一项目的配置，以及如何制定统一开发和设计规范。</p>
<p>接下来我们将进入基础组件设计模块，我会为你介绍一些在 iOS 开发过程中，工程化实践需要用的组件，比如 <strong>设计组件</strong>、<strong>路由组件</strong> 。除此之外，我还会聊聊在开发中如何支持 <strong>多语言</strong>、<strong>动态字体</strong> 和 <strong>深色模式</strong> 等辅助功能，让你的 App 既有国际范，获取更多用户，还能提升用户体验，获得更多好评。</p>
<p>这一讲，我们就先来聊聊公共组件库，以及如何封装基础设计组件。</p>
<h2 id="封装公共功能组件库"><a href="#封装公共功能组件库" class="headerlink" title="封装公共功能组件库"></a>封装公共功能组件库</h2><p>随着产品不断发展，我们会发现，越来越多的公共功能可以封装成组件库，从而被各个模块甚至多个 App 共同使用，比如 <strong>字体</strong>、<strong>调色板</strong>、<strong>间距</strong> 和 <strong>头像</strong> 可以封装成 <strong>UI 设计组件库</strong>，<strong>登录会话</strong> 和 <strong>权限管理</strong> 可以封装成 <strong>登录与鉴权组件库</strong>。</p>
<p>通过利用这些公共功能组件库，不仅能节省大量开发时间，不需要我们再为每个模块重复实现类似的功能；还能减少编译时间，因为如果没有独立的组件库，一点代码的改动都会导致整个 App 重新编译与链接。</p>
<p>那么，怎样才能创建和使用公共功能组件库呢？下面我们以一个设计组件库 <strong>DesignKit</strong> 为例子介绍下具体怎么做。</p>
<h3 id="创建内部公共功能组件库"><a href="#创建内部公共功能组件库" class="headerlink" title="创建内部公共功能组件库"></a>创建内部公共功能组件库</h3><p>公共功能组件库根据使用范围可以分为三大类：<strong>内部库</strong>、<strong>私有库</strong> 和 <strong>开源库</strong>。</p>
<ul>
<li><p><strong>内部库</strong>，是指该库和主项目共享一个 <code>Repo</code> ，它可以共享到主项目的所有模块中。</p>
</li>
<li><p><strong>私有库</strong>，是指该库使用独立的私有 <code>Repo</code> ，它可以共享到公司多个 App 中。</p>
</li>
<li><p><strong>开源库</strong>，是指该库发布到 GitHub 等开源社区提供给其他开发者使用。</p>
</li>
</ul>
<p>这三类库的创建和使用方式都是一致的。<strong>在实际操作中，我们一般先创建内部库，如果今后有必要，可以再升级为私有库乃至开源库。</strong> 下面咱们一起看看怎样创建内部库。</p>
<p>为了方便管理各个内部公共功能组件库，首先我们新建一个叫作 <strong>Frameworks</strong> 的文件夹，来保存所有的内部库。这个文件夹所在位置和主项目文件夹（在我们例子中是 Moments）以及 Workplace 文档（<code>Moments.xcworkspace</code>）平行。</p>
<p>例如下面的文件结构：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Frameworks</span>          <span class="title class_">Moments</span>             <span class="title class_">Pods</span>            <span class="title class_">Moments</span>.<span class="property">xcworkspace</span></span><br></pre></td></tr></table></figure>

<p>然后我们通过 <strong>CocoaPods</strong> 创建和管理这个内部库。</p>
<p>怎么做呢？有两种办法可以完成这项工作：</p>
<p><strong>一种是</strong>，使用 <code>pod lib create [pod name]</code> 命令。比如在这个案例当中，我们可以在 Frameworks 文件夹下执行 <code>bundle exec pod lib create DesignKit</code> 命令，然后输入邮箱、语言和平台等信息，让 CocoaPods 创建一个  <code>DesignKit.podspec</code> 以及例子项目等一堆文件。具体如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">DesignKit</span>         <span class="title class_">Example</span>           <span class="variable constant_">README</span>.<span class="property">md</span></span><br><span class="line"><span class="title class_">DesignKit</span>.<span class="property">podspec</span> <span class="variable constant_">LICENSE</span>           _Pods.<span class="property">xcodeproj</span></span><br></pre></td></tr></table></figure>

<p><code>DesignKit.podspec</code> 是 DesignKit 库的 Pod 描述文件，用于描述该 Pod 库的一个特定版本信息。它存放在 CocoaPods 的中心 Repo 供使用者查找和使用。</p>
<p>随着这个 Pod 库的迭代，CocoaPods 的中心 Repo 会为每个特定的 Pod 版本存放一个对应的 podspec 文件。每个 podspec 文件都包括 Pod 对应 Repo 的 URL、源码存放的位置、所支持的系统平台及其系统最低版本号、Swift 语言版本，以及 Pod 的名字、版本号和描述等信息。</p>
<p>DesignKit 组件库的 podspec 文件你可以在 <a target="_blank" rel="noopener" href="https://github.com/lagoueduCol/iOS-linyongjian/blob/main/Frameworks/DesignKit/DesignKit.podspec?fileGuid=xxQTRXtVcqtHK6j8">代码仓库</a> 中找到。下面是该 podspec 文件的一些重要配置：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">s.<span class="property">name</span>    = <span class="string">&#x27;DesignKit&#x27;</span></span><br><span class="line">s.<span class="property">version</span> = <span class="string">&#x27;1.0.0&#x27;</span></span><br><span class="line"></span><br><span class="line">s.<span class="property">ios</span>.<span class="property">deployment_target</span> = <span class="string">&#x27;14.0&#x27;</span></span><br><span class="line">s.<span class="property">swift_versions</span> = <span class="string">&#x27;5.3&#x27;</span></span><br><span class="line">s.<span class="property">source_files</span> = <span class="string">&#x27;src/**/*&#x27;</span></span><br><span class="line">s.<span class="property">resources</span> = <span class="string">&#x27;assets/**/*&#x27;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>name</code>：是该组件的名字；</li>
<li><code>version</code>：是组件的版本号，当我们更新组件的时候同时需要使用 <strong>Semantic Versioning</strong>（语义化版本号）更新该版本号。</li>
<li><code>ios.deployment_target</code>：为该库所支持的平台和所支持平台的最低版本号。</li>
<li><code>swift_versions</code>：是支持 Swift 语言的版本号。</li>
<li><code>source_files</code>：是该库的源代码所在的文件夹，在我们例子中是 src。</li>
<li><code>resources</code>：是该库资源文件所在的文件夹。</li>
</ul>
<p><strong>另外一种</strong>，是手工创建 DesignKit.podspec 文件。<strong>我偏向于这一种，因为手工创建出来的项目更简练。</strong></p>
<p>比如在这里，我们只需要在 Frameworks 新建一个叫作 DesignKit 的文件夹，然后在它下面建立 src 和 assets 这两个文件夹，以及 LICENSE 和 DesignKit.podspec 这两个文件即可。</p>
<p>如下所示：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">DesignKit</span>.<span class="property">podspec</span>       <span class="variable constant_">LICENSE</span>         assets            src</span><br></pre></td></tr></table></figure>

<p>以后所有 <em>源代码文件</em> 都存放在 <code>src</code> 文件夹下面，而 <em>图片</em>、<em>Xib</em> 和 <em>Storyboard</em> 等 <em>资源文件</em> 存放在 <code>assets</code> 文件夹下。</p>
<p><code>LICENSE</code> 是许可证文件，如果是开源库，我们必须严格选择一个许可证，这样才能方便其他开发者使用我们的库。</p>
<h3 id="检测内部公共功能组件库"><a href="#检测内部公共功能组件库" class="headerlink" title="检测内部公共功能组件库"></a>检测内部公共功能组件库</h3><p>为了保证组件库的使用者能顺利安装和使用我们的库，当我们配置好 <code>DesignKit.podspec</code> 文件后，需要执行 <code>bundle exec pod spec lint</code> 命令来检测该 podspec 文件是否正确。如果我们维护的是一个开源库，这一步尤为重要。因为它会影响到使用者的第一印象，因此我们在发布该 Pod 之前需要把每个错误或者警告都修复好。</p>
<p>不过需要注意的是， CocoaPods 对内部库的检测存在一个 Bug， 会显示下面的警告以及错误信息：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable constant_">WARN</span> | <span class="title class_">Missing</span> primary key <span class="keyword">for</span> source attribute </span><br><span class="line"><span class="variable constant_">ERROR</span> | <span class="attr">unknown</span>: <span class="title class_">Encountered</span> an unknown error (<span class="title class_">Unsupported</span> download strategy <span class="string">`&#123;:path=&gt;&quot;.&quot;&#125;`</span>.) during validation</span><br></pre></td></tr></table></figure>

<p>由于我们创建的是内部库，所以可以忽略这个警告和错误，只要没有其他错误信息就可以了。</p>
<h3 id="使用内部公共功能组件库"><a href="#使用内部公共功能组件库" class="headerlink" title="使用内部公共功能组件库"></a>使用内部公共功能组件库</h3><p>使用内部公共功能组件库非常简单，只要在主项目的 <code>Podfile</code> 里面使用 <code>:path</code> 来指定该内部库的路径即可。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pod <span class="string">&#x27;DesignKit&#x27;</span>, :<span class="function"><span class="params">path</span> =&gt;</span> <span class="string">&#x27;./Frameworks/DesignKit&#x27;</span>, :<span class="function"><span class="params">inhibit_warnings</span> =&gt;</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>

<p>当执行 <code>bundle exec pod install</code> 命令以后，CocoaPods 会在 Pods 项目下建立一个<br><code>Development Pods</code> 文件夹来存放所有内部库的相关文件。</p>
<p><img data-src="https://raw.githubusercontent.com/fengyanxin/YXBlogPic/main/17373431509846.jpg"></p>
<p>有了 CocoaPods，我们新建、管理和使用公共组件库就会变得非常简单。下面我们介绍下如何开发设计组件 DesignKit。</p>
<h2 id="DesignKit-设计组件"><a href="#DesignKit-设计组件" class="headerlink" title="DesignKit 设计组件"></a>DesignKit 设计组件</h2><p>DesignKit 是一个设计组件，用于封装与 UI 相关的公共组件。为了方便维护，每次新增一个组件，我们最好都建立一个独立的文件夹，例如把 <code>UIButtonExtensions.swift</code> 放在新建的 <code>FavoriteButton</code> 文件夹中。</p>
<p><img data-src="https://raw.githubusercontent.com/fengyanxin/YXBlogPic/main/17373431685601.jpg"></p>
<p>下面以几乎每个 App 都会使用到的三个组件：<em>间距（Spacing）</em>、<em>头像（Avatar）</em> 和 <em>点赞按钮（Favorite Button）</em> 为例子，介绍下如何封装基础设计组件。</p>
<h3 id="间距"><a href="#间距" class="headerlink" title="间距"></a>间距</h3><p>为了呈现信息分组并体现信息的主次关系，所有 App 的所有页面都会使用到间距来添加留白效果。</p>
<p>间距看起来这么简单，为什么我们还需要为其独立封装为一个公共组件呢？主要原因有这么几条。</p>
<ol>
<li><p>可以为整个 App 提供一致的体验，因为我们统一定义了所有间距，各个功能模块的 UI 呈现都保持一致。</p>
</li>
<li><p>可以减低设计师和开发者的沟通成本，不会再为某些像素值的多与少而争论不休。设计师只使用预先定义的间距，而开发者也只使用在代码中定义好的间距就行了。</p>
</li>
<li><p>可以减低设计师的工作量，很多 UI 界面可以只提供一个设计稿来同时支持 iOS、Android 以及移动 Web。因为设计师只提供预先定义的间距名，而不是 hardcoded （硬编码）的像素值。不同设备上像素值有可能不一样，但间距名却能保持一致。</p>
</li>
<li><p>在支持响应式设计的时候，这些间距定义可以根据设备的宽度而自动调整。这远比硬编码的像素值灵活很多，例如在 iPhone 中 twoExtraSmall 是 4 points，而在 iPad 中是 6 points。</p>
</li>
</ol>
<p>别看间距公共组件有那么多优点，但实现起来并不难，一个 <strong>struct</strong> 就搞定了，简直是一本万利的投入。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">public struct <span class="title class_">Spacing</span> &#123;</span><br><span class="line">    public <span class="keyword">static</span> <span class="keyword">let</span> <span class="attr">twoExtraSmall</span>: <span class="title class_">CGFloat</span> = <span class="number">4</span></span><br><span class="line">    public <span class="keyword">static</span> <span class="keyword">let</span> <span class="attr">extraSmall</span>: <span class="title class_">CGFloat</span> = <span class="number">8</span></span><br><span class="line">    public <span class="keyword">static</span> <span class="keyword">let</span> <span class="attr">small</span>: <span class="title class_">CGFloat</span> = <span class="number">12</span></span><br><span class="line">    public <span class="keyword">static</span> <span class="keyword">let</span> <span class="attr">medium</span>: <span class="title class_">CGFloat</span> = <span class="number">18</span></span><br><span class="line">    public <span class="keyword">static</span> <span class="keyword">let</span> <span class="attr">large</span>: <span class="title class_">CGFloat</span> = <span class="number">24</span></span><br><span class="line">    public <span class="keyword">static</span> <span class="keyword">let</span> <span class="attr">extraLarge</span>: <span class="title class_">CGFloat</span> = <span class="number">32</span></span><br><span class="line">    public <span class="keyword">static</span> <span class="keyword">let</span> <span class="attr">twoExtraLarge</span>: <span class="title class_">CGFloat</span> = <span class="number">40</span></span><br><span class="line">    public <span class="keyword">static</span> <span class="keyword">let</span> <span class="attr">threeExtraLarge</span>: <span class="title class_">CGFloat</span> = <span class="number">48</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>有了上述的定义以后，使用这些间距变得很简单。请看：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">DesignKit</span></span><br><span class="line"></span><br><span class="line">private <span class="keyword">let</span> <span class="attr">likesStakeView</span>: <span class="title class_">UIStackView</span> = <span class="title function_">configure</span>(<span class="params">.init()</span>) &#123;</span><br><span class="line">    $0.<span class="property">spacing</span> = <span class="title class_">Spacing</span>.<span class="property">twoExtraSmall</span></span><br><span class="line">    $0.<span class="property">directionalLayoutMargins</span> = <span class="title class_">NSDirectionalEdgeInsets</span>(<span class="attr">top</span>: <span class="title class_">Spacing</span>.<span class="property">twoExtraSmall</span>, <span class="attr">leading</span>: <span class="title class_">Spacing</span>.<span class="property">twoExtraSmall</span>, <span class="attr">bottom</span>: <span class="title class_">Spacing</span>.<span class="property">twoExtraSmall</span>, <span class="attr">trailing</span>: <span class="title class_">Spacing</span>.<span class="property">twoExtraSmall</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>我们可以先 <code>import DesignKit</code> 库，然后通过 <code>Spacing</code> 结构体直接访问预定义的间距，例如 <code>Spacing.twoExtraSmall</code>。</p>
<h3 id="头像组件"><a href="#头像组件" class="headerlink" title="头像组件"></a>头像组件</h3><p>iOS 开发者都知道，头像组件应用广泛，例如在房产 App 中显示中介的头像，在我们例子 Moments App 中显示自己和好友头像，在短视频 App 中显示视频博主头像等。</p>
<p>也许你会问，头像那么简单，为什么需要独立封装为一个组件？原因主要是方便以后改变其 UI 的呈现方式，例如从圆角方形改成圆形，添加边界线（border），添加阴影效果（shadow）等。有了独立的组件以后，我们只需要修改一个地方就能把这个 App 的所有头像一次性地修改呈现效果。</p>
<p>下面是头像组件的实现方式：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">public extension <span class="title class_">UIImageView</span> &#123;</span><br><span class="line">    func <span class="title function_">asAvatar</span>(<span class="params">cornerRadius: CGFloat = <span class="number">4</span></span>) &#123;</span><br><span class="line">        clipsToBounds = <span class="literal">true</span></span><br><span class="line">        layer.<span class="property">cornerRadius</span> = cornerRadius</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>我们为 UIKit 所提供的 <code>UIImageView</code> 实现了一个扩展方法 <code>asAvatar(cornerRadius:)</code> ，该方法接收 <code>cornerRadius</code> 作为参数来配置圆角的角度，默认值是 <code>4</code>。</p>
<p>使用也是非常简单，只有创建一个 <code>UIImageView</code> 的实例，然后调用 <code>asAvatar(cornerRadius:)</code> 方法即可。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">private <span class="keyword">let</span> <span class="attr">userAvatarImageView</span>: <span class="title class_">UIImageView</span> = <span class="title function_">configure</span>(<span class="params">.init()</span>) &#123;</span><br><span class="line">    $0.<span class="title function_">asAvatar</span>(<span class="attr">cornerRadius</span>: <span class="number">4</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这是人像组件的显示效果，可以在内部菜单查看。</p>
<p><img data-src="https://raw.githubusercontent.com/fengyanxin/YXBlogPic/main/17373431939202.jpg"></p>
<h3 id="点赞按钮"><a href="#点赞按钮" class="headerlink" title="点赞按钮"></a>点赞按钮</h3><p>可以说，每个具有社交属性的 App 都会用到点赞功能，所以在开发当中，点赞按钮也是必不可少的功能组件。</p>
<p>那么，点赞按钮该如何封装呢？和人像组件十分类似，我们可以通过扩展 <code>UIButton</code>来实现。示例代码如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">public extension <span class="title class_">UIButton</span> &#123;</span><br><span class="line">    func <span class="title function_">asStarFavoriteButton</span>(<span class="params">pointSize: CGFloat = <span class="number">18</span>, weight: UIImage.SymbolWeight = .semibold, scale: UIImage.SymbolScale = .<span class="keyword">default</span>, fillColor: UIColor = UIColor(hex: <span class="number">0xf1c40f</span>)</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> symbolConfiguration = <span class="title class_">UIImage</span>.<span class="title class_">SymbolConfiguration</span>(<span class="attr">pointSize</span>: pointSize, <span class="attr">weight</span>: weight, <span class="attr">scale</span>: scale)</span><br><span class="line">        <span class="keyword">let</span> starImage = <span class="title class_">UIImage</span>(<span class="attr">systemName</span>: <span class="string">&quot;star&quot;</span>, <span class="attr">withConfiguration</span>: symbolConfiguration)</span><br><span class="line">        <span class="title function_">setImage</span>(starImage, <span class="attr">for</span>: .<span class="property">normal</span>)</span><br><span class="line">        <span class="keyword">let</span> starFillImage = <span class="title class_">UIImage</span>(<span class="attr">systemName</span>: <span class="string">&quot;star.fill&quot;</span>, <span class="attr">withConfiguration</span>: symbolConfiguration)</span><br><span class="line">        <span class="title function_">setImage</span>(starFillImage, <span class="attr">for</span>: .<span class="property">selected</span>)</span><br><span class="line">        tintColor = fillColor</span><br><span class="line">        <span class="title function_">addTarget</span>(self, <span class="attr">action</span>: #<span class="title function_">selector</span>(touchUpInside), <span class="attr">for</span>: .<span class="property">touchUpInside</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">private extension <span class="title class_">UIButton</span> &#123;</span><br><span class="line">    @objc</span><br><span class="line">    private func <span class="title function_">touchUpInside</span>(<span class="params">sender: UIButton</span>) &#123;</span><br><span class="line">        isSelected = !isSelected</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>其核心逻辑把当前 <code>UIButton</code> 对象的普通 (<code>.normal</code>) 状态和选中 (<code>.selected</code>) 状态设置不同的图标。比如在这里我就把星星按钮的普通状态设置成了名叫 “Star” 的图标，并把它的选中状态设置成了名叫 “tar.fill”” 的图标。</p>
<p>注意，这些图标来自苹果公司的 <a target="_blank" rel="noopener" href="https://developer.apple.com/sf-symbols/">SF Symbols</a> 不需要额外安装，<code>iOS 14</code> 系统本身就自带了。而且它们的使用也非常灵活，支持字号、字重、填充色等配置。</p>
<p>使用点赞按钮组件也非常简单，只需要建立一个 <code>UIButton</code> 的实例，然后调用 <code>asStarFavoriteButton</code> 方法就可以了。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">private <span class="keyword">let</span> <span class="attr">favoriteButton</span>: <span class="title class_">UIButton</span> = <span class="title function_">configure</span>(<span class="params">.init()</span>) &#123;</span><br><span class="line">    $0.<span class="title function_">asStarFavoriteButton</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>点赞按钮的运行效果，也可以在内部菜单查看。</p>
<p>以上我们以间距、头像、点赞按钮为例介绍了如何使用 DesignKit 封装与 UI 相关的公共组件。以我多年的开发经验来说，在封装 UI 组件的时候，可以遵循下面几个原则:</p>
<ol>
<li><p>尽量使用扩展方法而不是子类来扩展组件，这样做可以使其他开发者在使用这些组件时，仅需要调用扩展方法，而不必使用特定的类。</p>
</li>
<li><p>尽量使用代码而不要使用 Xib 或者 Storyboard，因为有些 App 完全不使用 Interface Builder。</p>
</li>
<li><p>如果可以，要为组件加上 <code>@IBDesignable</code> 和 <code>@IBInspectable</code> 支持，这样能使得开发者在使用 <code>Interface Builder</code> 的时候预览我们的组件。</p>
</li>
<li><p>尽量只使用 UIkit 而不要依赖任何第三方库，否则我们可能会引入一个不可控的依赖库。</p>
</li>
</ol>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>前面我介绍了如何封装公共功能组件库，以及以怎样封装基础设计组件，希望对你有所帮助。合理使用功能组件可以让你的开发事半功倍。</p>
<p><img data-src="https://raw.githubusercontent.com/fengyanxin/YXBlogPic/main/17373431283113.jpg"></p>
<p>不过，在封装组件的时候，我还需要提醒你注意这么几点。</p>
<ul>
<li><p><strong>首先</strong>，为了减低组件之间的耦合性，提高组件的健壮性，组件的设计需要符合单一功能原则 。也就是说，一个组件只做一件事情，一个组件库只做一类相关的事情。每个组件库都要相对独立且功能单一。</p>
<p>比如，我们可以分别封装 <em>网络库</em>、<em>UI 库</em>、<em>蓝牙处理库</em> 等底层库，但不能把所有库合并在一个单独的库里面，这样可以方便上层应用按需使用这些依赖库。例如，广告 SDK 可以依赖于网络库、UI 库，但并不依赖蓝牙处理库。这样做一方面可以减少循环依赖的可能性，另一方面可以加快编译和链接的速度，方便使用。</p>
</li>
<li><p><strong>其次</strong>，每次发布新增和更新组件的时候，都需要严格按照 <em>Semantic Versioning</em> 来更新版本号，这样有效防止因为版本的问题而引入 Bug。</p>
</li>
<li><p><strong>最后</strong>，组件的开发并不是一蹴而就，很多时候可以根据业务需求把公共模块一点点地移入公共组件库中，一步步地完善组件库的功能。不要为了开发组件而开发组件，很多时候当我们充分理解了使用者的需求后，才能为组件定义完善的接口和完整的功能。</p>
</li>
</ul>
<h3 id="源码地址："><a href="#源码地址：" class="headerlink" title="源码地址："></a>源码地址：</h3><blockquote>
<p>DesignKit 源代码：<br><a target="_blank" rel="noopener" href="https://github.com/lagoueduCol/iOS-linyongjian/tree/main/Frameworks/DesignKit">https://github.com/lagoueduCol/iOS-linyongjian/tree/main/Frameworks/DesignKit</a></p>
</blockquote>
<h1 id="学习笔记与扩展"><a href="#学习笔记与扩展" class="headerlink" title="学习笔记与扩展"></a>学习笔记与扩展</h1><p>上文中有提到，功能组件库可以分为三大类：<strong>内部库</strong>、<strong>私有库</strong> 和 <strong>开源库</strong>。而文中只介绍了 <code>Cocoapods</code> 管理 <strong>内部库</strong> 的使用方法，作为学习笔记和扩展，这里就来介绍一下 <strong>私有库</strong> 和 <strong>开源库</strong> 的使用。</p>
<h2 id="私有库"><a href="#私有库" class="headerlink" title="私有库"></a>私有库</h2><h3 id="什么是私有库？"><a href="#什么是私有库？" class="headerlink" title="什么是私有库？"></a>什么是私有库？</h3><p>顾名思义，就是你的私人代码仓库，而不是开源出去让大家都能看到并参与开发的项目。私有仓库可以进行权限控制，只有拥有权限的人才能访问并修改它，也就是我们所说的合作者。</p>
<p>私有库不在<code>cocoaPods</code>的官方<code>Repo</code>仓库中，而是在自建的<code>spec repo</code>中，库索引是以 <code>*.podspec</code>文件形式存在，自建的<code>spec repo</code>放在路径<code>~/.cocoapods/repos</code>下，与<code>master</code>同级，其链接的远程仓库可以是公开的，也可以是私有的。</p>
<h3 id="创建-pod-私有库"><a href="#创建-pod-私有库" class="headerlink" title="创建 pod 私有库"></a>创建 pod 私有库</h3><p>创建私有库有两种方案：<br>第一种方案手动创建 <code>podspec</code>与自己私有仓库进行关联，<br>第二种直接使用 <code>cocoapods</code> 创建</p>
<h4 id="方案一"><a href="#方案一" class="headerlink" title="方案一"></a>方案一</h4><ol>
<li>首先选择在 Xcode 里新建 <code>framework</code> 项目，并且在公司代码仓库新建两个远程仓库 <strong>（索引库、代码库）</strong> 用 <code>git</code> 将本地 <code>framework</code> 项目推入远端，再用终端本地执行：</li>
</ol>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#用于创建一个新的 <span class="type">Pod（即一个</span> iOS 或 macOS 的库或框架）的规范文件（`.podspec` 文件）</span><br><span class="line">pod spec create <span class="type">PodName</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>在 <code>.podspec</code> 里面进行编辑，稍后会详细讲解 <code>podspec</code>文件内容<br>最后在终端执行查看当前 <code>pod</code>文件是否规范：</li>
</ol>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#用于检查一个 <span class="type">Pod</span> 的规范文件（`.podspec` 文件）是否符合规范和要求</span><br><span class="line">pod spec lint <span class="type">PodName</span>.podspec</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>如果编译成功，符合规范要求就可以提交pod  **(方案一与方案二提交都一样，此处先略过了)**：</li>
</ol>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pod repo push 索引库 podName.podspec<span class="operator">--</span>verbose<span class="operator">--</span>use<span class="operator">-</span>libraries<span class="operator">--</span>allow<span class="operator">-</span>warning</span><br></pre></td></tr></table></figure>

<h4 id="方案二"><a href="#方案二" class="headerlink" title="方案二"></a>方案二</h4><ol>
<li>直接使用 <code>cocoapods</code> 创建</li>
</ol>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pod lib create <span class="type">PodName</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>然后依次输入，执行即可</li>
</ol>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">What</span> platform <span class="keyword">do</span> you want to use<span class="operator">??</span> [ iOS <span class="operator">/</span> macOS ]</span><br><span class="line"><span class="operator">&gt;</span> iOS</span><br><span class="line"><span class="type">What</span> language <span class="keyword">do</span> you want to use<span class="operator">??</span> [ <span class="type">Swift</span> <span class="operator">/</span> <span class="type">ObjC</span> ]</span><br><span class="line"><span class="operator">&gt;</span> <span class="type">ObjC</span></span><br><span class="line"><span class="type">Would</span> you liketo include a demo application with your library<span class="operator">?</span> [ <span class="type">Yes</span> <span class="operator">/</span> <span class="type">No</span> ]</span><br><span class="line"><span class="operator">&gt;</span> <span class="type">YES</span></span><br><span class="line"><span class="type">Which</span> testing frameworks will you use<span class="operator">?</span> [ <span class="type">Specta</span> <span class="operator">/</span> <span class="type">Kiwi</span> <span class="operator">/</span> <span class="type">None</span> ]</span><br><span class="line"><span class="operator">&gt;</span> <span class="type">None</span></span><br><span class="line"><span class="type">Would</span> you like to <span class="keyword">do</span> view based testing<span class="operator">?</span> [ <span class="type">Yes</span> <span class="operator">/</span> <span class="type">No</span> ]</span><br><span class="line"><span class="operator">&gt;</span> <span class="type">No</span></span><br><span class="line"><span class="type">What</span> <span class="keyword">is</span> your <span class="keyword">class</span> <span class="title class_">prefix</span>?</span><br><span class="line">&gt; <span class="title class_">HY</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>添加库文件</li>
</ol>
<p>成功后会创建出一个pod_test工程，目录结构如下:</p>
<p><img data-src="https://raw.githubusercontent.com/fengyanxin/YXBlogPic/main/17373534365111.jpg"></p>
<ol start="4">
<li>将编写好的一些文件拉入 <code>pod_test/classes</code>中，或者在<code>pod_test/classes</code> 目录下新建代码文件：</li>
</ol>
<p><img data-src="https://raw.githubusercontent.com/fengyanxin/YXBlogPic/main/17373535574754.jpg"></p>
<ol start="5">
<li>配置 <code>.podspec</code> 文件</li>
</ol>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">#</span><br><span class="line"># <span class="type">Be</span> sure to run `pod lib lint <span class="type">SYCoreKit</span>.podspec&#x27; to ensure this <span class="keyword">is</span> a</span><br><span class="line"># valid spec before submitting.</span><br><span class="line">#</span><br><span class="line"># <span class="keyword">Any</span> lines starting with a # are <span class="keyword">optional</span>, but their use <span class="keyword">is</span> encouraged</span><br><span class="line"># <span class="type">To</span> learn more about a <span class="type">Podspec</span> see https:<span class="comment">//guides.cocoapods.org/syntax/podspec.html</span></span><br><span class="line">#</span><br><span class="line"></span><br><span class="line"><span class="type">Pod</span>::<span class="type">Spec</span>.new <span class="keyword">do</span> <span class="operator">|</span>s<span class="operator">|</span></span><br><span class="line">  s.name             <span class="operator">=</span> &#x27;xxxxx&#x27;  #搜索的关键词,注意这里一定要和.podspec的名称一样</span><br><span class="line">  s.version          <span class="operator">=</span> &#x27;<span class="number">0.0</span>.<span class="number">1</span>&#x27; #版本号，每一个版本对应一个tag</span><br><span class="line">  s.summary          <span class="operator">=</span> <span class="string">&quot;iOS框架&quot;</span> #项目简介</span><br><span class="line">  s.description      <span class="operator">=</span> <span class="string">&quot;iOS框架&quot;</span> #pod详细描述</span><br><span class="line">  s.homepage         <span class="operator">=</span> &#x27;&#x27; #项目主页地址</span><br><span class="line">  # s.screenshots   <span class="operator">=</span> &#x27;www.example.com<span class="operator">/</span>screenshots_1&#x27;, &#x27;www.example.com<span class="operator">/</span>screenshots_2&#x27;</span><br><span class="line">  s.license          <span class="operator">=</span> &#123; :type <span class="operator">=&gt;</span> &#x27;<span class="type">MIT</span>&#x27;, :file <span class="operator">=&gt;</span> &#x27;<span class="type">LICENSE</span>&#x27; &#125; #许可证</span><br><span class="line">  s.author           <span class="operator">=</span> &#123; &#x27;superMan&#x27; <span class="operator">=&gt;</span> &#x27;xxxxxxxx&#x27; &#125;#作者</span><br><span class="line">  s.source           <span class="operator">=</span> &#123; :git <span class="operator">=&gt;</span> &#x27;http:<span class="comment">//xxx.git&#x27;, :tag =&gt; s.version.to_s &#125;#项目的地址</span></span><br><span class="line">  s.social_media_url <span class="operator">=</span> &#x27;https:<span class="comment">//twitter.com/xxx&#x27;#作者社交地址</span></span><br><span class="line">#  s.pod_target_xcconfig <span class="operator">=</span> &#123; &#x27;<span class="type">VALID_ARCHS</span>&#x27; <span class="operator">=&gt;</span> &#x27;arm64&#x27;&#125; 是修改当前pod工程中的项目设置</span><br><span class="line">#  s.user_target_xcconfig <span class="operator">=</span> &#123; &#x27;<span class="type">VALID_ARCHS</span>&#x27; <span class="operator">=&gt;</span> &#x27;arm64&#x27;,&#x27;<span class="type">EXCLUDED_ARCHS</span>[sdk<span class="operator">=</span>iphonesimulator<span class="operator">*</span>]&#x27; <span class="operator">=&gt;</span> &#x27;arm64&#x27;&#125;  是修改当前用户工程中的项目设置</span><br><span class="line">  s.ios.deployment_target <span class="operator">=</span> &#x27;<span class="number">12.0</span>&#x27; #支持的pod最低版本</span><br><span class="line">  s.static_framework <span class="operator">=</span> <span class="literal">true</span> #动态库模式pod</span><br><span class="line">  s.requires_arc     <span class="operator">=</span> <span class="literal">true</span> # 是否启用<span class="type">ARC</span></span><br><span class="line">  s.source_files <span class="operator">=</span> &#x27;<span class="type">SYCoreKit</span><span class="operator">/</span><span class="type">Classes</span><span class="comment">/**/</span><span class="operator">*</span>&#x27; #需要包含的源文件</span><br><span class="line">  </span><br><span class="line">  # s.resource_bundles <span class="operator">=</span> &#123;</span><br><span class="line">  #   &#x27;<span class="type">SYCoreKit</span>&#x27; <span class="operator">=&gt;</span> [&#x27;<span class="type">SYCoreKit</span><span class="operator">/</span><span class="type">Assets</span><span class="comment">/*.png&#x27;]</span></span><br><span class="line"><span class="comment">  # &#125; 资源文件</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  # s.public_header_files = &#x27;Pod/Classes<span class="comment">/**/</span>*.h&#x27; #标记公共头文件列表</span></span><br><span class="line"><span class="comment">  s.ios.frameworks = &quot;UIKit&quot;, &quot;Foundation&quot; #支持的系统框架</span></span><br><span class="line"><span class="comment">  s.dependency &#x27;YYModel&#x27;, &#x27;1.0.4&#x27;#三方依赖</span></span><br><span class="line"><span class="comment">end</span></span><br></pre></td></tr></table></figure>

<ol start="6">
<li>使用 Example 测试私有库是否可用</li>
</ol>
<p><code>Example</code>是创建<code>Pods</code>工程时生成的一个工程，用于验证添加的库文件是否能正常使用。<code>Example</code>目录下<code>Podfile</code>文件中自动设置了<code>pod_test</code>依赖，如下：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">target &#x27;pod_test_Example&#x27; <span class="keyword">do</span></span><br><span class="line">pod &#x27;pod_test&#x27;, :path <span class="operator">=&gt;</span> &#x27;<span class="operator">../</span>&#x27;    #自动添加了</span><br></pre></td></tr></table></figure>

<p><code>cd Example</code>文件夹下，终端执行<code>pod install</code>或<code>pod update</code>，安装<code>pod_test</code>依赖就可以查看在项目中应用了</p>
<ol start="7">
<li>检验 <code>.podspec</code>文件并推送到远端，提交pods库到github上。打标签，推送到远程。</li>
</ol>
<p><strong>重点：tag 打的版本号必须和 podspec 中的 s.version 值相同：</strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 检查 <span class="type">Pod</span> 的规范文件（`.podspec` 文件）是否符合规范和要求</span><br><span class="line">pod spec lint <span class="type">PodName</span>.podspec</span><br><span class="line"># 符合规范要求就可以提交pod</span><br><span class="line">pod repo push 索引库 podName.podspec<span class="operator">--</span>verbose<span class="operator">--</span>use<span class="operator">-</span>libraries<span class="operator">--</span>allow<span class="operator">-</span>warning</span><br></pre></td></tr></table></figure>

<h2 id="公有库"><a href="#公有库" class="headerlink" title="公有库"></a>公有库</h2><p>公有库和私有库基本类似，唯一的区别就是公有库是开源的。</p>
<p>所以，生成私有库、公有库前面几步都是一样的，只有最后推送位置不同。一个是推送至个人的私有仓库、一个是推送至 <code>pod</code> 公共仓库。</p>
<p>创建公有库在执行完私有库流程后多了几步：</p>
<ol>
<li>检查是否已注册 CocoaPods 账户:</li>
</ol>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pod trunk me</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>注册 cocoaPods 账号，执行该命令后，对应邮箱会收到一份邮件，去邮件内进行验证:</li>
</ol>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pod trunk register 你的邮箱 &#x27;你的用户名&#x27; <span class="operator">--</span>description<span class="operator">=</span>&#x27;这里是描述&#x27; </span><br></pre></td></tr></table></figure>

<ol start="3">
<li>推送至 pod 公共仓库</li>
</ol>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pod trunk push <span class="type">LXExtension</span>.podspec <span class="operator">--</span>allow<span class="operator">-</span>warnings</span><br></pre></td></tr></table></figure>

<h2 id="相关终端命令总结"><a href="#相关终端命令总结" class="headerlink" title="相关终端命令总结"></a>相关终端命令总结</h2><ul>
<li><p>生成pod私有库模板<br><code>pod lib create xxx</code> ： 创建私有组件库模板<br>添加对应的Classes、Assets</p>
</li>
<li><p>关联远程仓库<br><code>git add .</code> ： 添加git文件<br><code>git commit -m &#39;init&#39;</code> ：提交<br><code>git remote add origin https://github.com/your-username/your-repo.git </code>： 关联到远程仓库<br><code>git push origin master </code>：推送至远程仓库</p>
</li>
<li><p>创建tag<br><code>git tag 1.0.0</code> ： 增加1.0.0tag<br><code>git tag</code>：查看本地tag<br><code>git ls-remote</code> ：查看远程所有分支及tag<br><code>git push origin 1.0.4</code> ： 推送特定tag到远程仓库<br><code>git push origin --tags</code> ： 推送所有tags到远程仓库<br><code>git tag -d 1.0.0</code> ： 删除本地tag<br><code>git push origin :refs/tags/1.0.3</code> ：删除远程tag</p>
</li>
<li><p>本地库校验<br><code>pod lib lint</code> ： 本地组件库校验<br><code>pod lib lint AFXXXX.podspec --allow-warnings</code> ：本地组件库校验忽略警告<br><code>pod lib lint --sources=https://github.com/xxxx/xxxxspecs.git --use-libraries --allow-warnings</code> ：如果你的库同时依赖了私有库，可通过上面方式指定 source 索引<br><code>pod lib lint --sources=https://github.com/xxxx/xxxxspecs.git,https://github.com/CocoaPods/Specs.git --use-libraries --allow-warnings</code> ： 如果你的库同时依赖了私有库以及公有库，可通过指定多个 source 索引，中间用逗号分隔</p>
</li>
<li><p>远程库校验<br><code>pod spec lint </code> ：远程组件库校验<br><code>pod spec lint --allow-warnings</code> ： 远程组件库校验忽略警告</p>
</li>
<li><p>生成私有库<br><code>pod repo add LXPodSpec https://github.com/xxx/LXPodSpec.git</code> ： 添加私有索引库到本地 repo 中<br><code>pod repo push LXPodSpec LXMyTools.podspec --allow-warnings</code> ：推送到 CocoaPods 服务器上，其他开发者可通过 CocoaPods 安装和使用这个 Pod，但是需要指定 source 为 <a target="_blank" rel="noopener" href="https://github.com/xxx/LXPodSpec.git">https://github.com/xxx/LXPodSpec.git</a><br><code>pod repo push LXPodSpec LXMyTools.podspec -skip-import-validation --allow-warnings</code> ：如果你的库同时依赖了私有库以及公有库，可通过上面方式跳过验证，谨慎使用</p>
</li>
<li><p>生成公有库<br><code>pod trunk me</code> ：检查是否已注册 CocoaPods 账户<br><code>pod trunk push LXExtension.podspec --allow-warnings</code> ：推送至 pod 公共仓库</p>
</li>
<li><p>一些其他命令<br><code>pod spec cat SnapKit</code> ： 查看 SnapKit 的 podspec 文件的内容。</p>
</li>
</ul>

    </div>

    
    
    

    
    
    

    <div>
       
          <div>
    
        <div style="text-align:center;color: #ccc;font-size:14px;">-------------<i class="fa fa-paw"></i> That's all！Best wishes for you !!! <i class="fa fa-paw"></i>-------------</div>
    
</div>

       
    </div><div class="post-widgets">
    <div class="likely">
        <div class="twitter">Tweet</div>
        <div class="facebook">Share</div>
        <div class="linkedin">Link</div>
        <div class="gplus">Plus</div>
        <div class="vkontakte">Share</div>
        <div class="odnoklassniki">Class</div>
        <div class="telegram">Send</div>
        <div class="whatsapp">Send</div>
        <div class="pinterest">Pin</div>
    </div>
  </div>
  <script src="//cdn.jsdelivr.net/npm/ilyabirman-likely@2/release/likely.min.js"></script><div class="post-widgets">
      <div id="needsharebutton-postbottom">
        <span class="btn">
          <i class="fa fa-share-alt" aria-hidden="true"></i>
        </span>
      </div>
    </div>
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>凤炎忻
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://fengyanxin.github.io/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/08%EF%BD%9C%E8%AE%BE%E8%AE%A1%E7%BB%84%E4%BB%B6%EF%BC%9ADesignKit%E7%BB%84%E4%BB%B6%E6%A1%A5%E6%8E%A5%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%BC%80%E5%8F%91%E8%A7%84%E8%8C%83/" title="【iOS进阶】08 | 设计组件：DesignKit组件桥接设计与开发规范">https://fengyanxin.github.io/学习笔记/08｜设计组件：DesignKit组件桥接设计与开发规范/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>

        

  <div class="followme">
    <p>欢迎关注我的其它发布渠道</p>

    <div class="social-list">

        <div class="social-item">
          <a target="_blank" class="social-link" href="https://github.com/fengyanxin">
            <span class="icon">
              <i class="fab fa-github"></i>
            </span>

            <span class="label">GitHub</span>
          </a>
        </div>

        <div class="social-item">
          <a target="_blank" class="social-link" href="https://www.zhihu.com/people/peng-he-34-93">
            <span class="icon">
              <i class="fab fa-zhihu"></i>
            </span>

            <span class="label">知乎</span>
          </a>
        </div>

        <div class="social-item">
          <a target="_blank" class="social-link" href="https://profile.zjurl.cn/rogue/ugc/profile/?user_id=51893718065">
            <span class="icon">
              <i class="fa fa-toutiao"></i>
            </span>

            <span class="label">今日头条</span>
          </a>
        </div>

        <div class="social-item">
          <a target="_blank" class="social-link" href="https://author.baidu.com/home?from=bjh_article&app_id=1665765419554477">
            <span class="icon">
              <i class="fa fa-baidu1"></i>
            </span>

            <span class="label">百家号</span>
          </a>
        </div>

        <div class="social-item">
          <a target="_blank" class="social-link" href="https://www.xiaohongshu.com/user/profile/642cb9650000000011023394">
            <span class="icon">
              <i class="fab fa-xiaohongshu1"></i>
            </span>

            <span class="label">小红书</span>
          </a>
        </div>

        <div class="social-item">
          <a target="_blank" class="social-link" href="https://www.liblib.art/userpage/c7816525373d4fbca7e45c1940ead98e">
            <span class="icon">
              <i class="fab fa-liblib1"></i>
            </span>

            <span class="label">LibLib</span>
          </a>
        </div>

        <div class="social-item">
          <a target="_blank" class="social-link" href="/atom.xml">
            <span class="icon">
              <i class="fa fa-rss"></i>
            </span>

            <span class="label">RSS</span>
          </a>
        </div>
    </div>
  </div>


      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" rel="tag"><i class="fa fa-tag"></i> 学习笔记</a>
              <a href="/tags/iOS/" rel="tag"><i class="fa fa-tag"></i> iOS</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/07%EF%BD%9C%E8%AE%BE%E8%AE%A1%E8%A7%84%E8%8C%83%EF%BC%9A%E5%A6%82%E4%BD%95%E7%BB%9F%E4%B8%80%E8%AE%BE%E8%AE%A1%E8%A7%84%E8%8C%83%EF%BC%8C%E6%8F%90%E9%AB%98%E6%B2%9F%E9%80%9A%E6%95%88%E7%8E%87%EF%BC%9F/" rel="prev" title="【iOS进阶】07 | 设计规范：如何统一设计规范，提高沟通效率？">
      <i class="fa fa-chevron-left"></i> 【iOS进阶】07 | 设计规范：如何统一设计规范，提高沟通效率？
    </a></div>
      <div class="post-nav-item">
    <a href="/Hexo/%E3%80%90Hexo%E3%80%91Gitlab-pages-%E7%9A%84%E4%BD%BF%E7%94%A8/" rel="next" title="【Hexo】Gitlab pages 的使用">
      【Hexo】Gitlab pages 的使用 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#DesignKit-%E7%BB%84%E4%BB%B6%E6%A1%A5%E6%8E%A5%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%BC%80%E5%8F%91%E8%A7%84%E8%8C%83"><span class="nav-number">1.</span> <span class="nav-text">DesignKit 组件桥接设计与开发规范</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B0%81%E8%A3%85%E5%85%AC%E5%85%B1%E5%8A%9F%E8%83%BD%E7%BB%84%E4%BB%B6%E5%BA%93"><span class="nav-number">1.1.</span> <span class="nav-text">封装公共功能组件库</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E5%86%85%E9%83%A8%E5%85%AC%E5%85%B1%E5%8A%9F%E8%83%BD%E7%BB%84%E4%BB%B6%E5%BA%93"><span class="nav-number">1.1.1.</span> <span class="nav-text">创建内部公共功能组件库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A3%80%E6%B5%8B%E5%86%85%E9%83%A8%E5%85%AC%E5%85%B1%E5%8A%9F%E8%83%BD%E7%BB%84%E4%BB%B6%E5%BA%93"><span class="nav-number">1.1.2.</span> <span class="nav-text">检测内部公共功能组件库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E5%86%85%E9%83%A8%E5%85%AC%E5%85%B1%E5%8A%9F%E8%83%BD%E7%BB%84%E4%BB%B6%E5%BA%93"><span class="nav-number">1.1.3.</span> <span class="nav-text">使用内部公共功能组件库</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DesignKit-%E8%AE%BE%E8%AE%A1%E7%BB%84%E4%BB%B6"><span class="nav-number">1.2.</span> <span class="nav-text">DesignKit 设计组件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%97%B4%E8%B7%9D"><span class="nav-number">1.2.1.</span> <span class="nav-text">间距</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%B4%E5%83%8F%E7%BB%84%E4%BB%B6"><span class="nav-number">1.2.2.</span> <span class="nav-text">头像组件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%82%B9%E8%B5%9E%E6%8C%89%E9%92%AE"><span class="nav-number">1.2.3.</span> <span class="nav-text">点赞按钮</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%80%BB%E7%BB%93"><span class="nav-number">1.3.</span> <span class="nav-text">总结</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%BA%90%E7%A0%81%E5%9C%B0%E5%9D%80%EF%BC%9A"><span class="nav-number">1.3.1.</span> <span class="nav-text">源码地址：</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%8E%E6%89%A9%E5%B1%95"><span class="nav-number">2.</span> <span class="nav-text">学习笔记与扩展</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%A7%81%E6%9C%89%E5%BA%93"><span class="nav-number">2.1.</span> <span class="nav-text">私有库</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E7%A7%81%E6%9C%89%E5%BA%93%EF%BC%9F"><span class="nav-number">2.1.1.</span> <span class="nav-text">什么是私有库？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA-pod-%E7%A7%81%E6%9C%89%E5%BA%93"><span class="nav-number">2.1.2.</span> <span class="nav-text">创建 pod 私有库</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%B9%E6%A1%88%E4%B8%80"><span class="nav-number">2.1.2.1.</span> <span class="nav-text">方案一</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%B9%E6%A1%88%E4%BA%8C"><span class="nav-number">2.1.2.2.</span> <span class="nav-text">方案二</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%AC%E6%9C%89%E5%BA%93"><span class="nav-number">2.2.</span> <span class="nav-text">公有库</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9B%B8%E5%85%B3%E7%BB%88%E7%AB%AF%E5%91%BD%E4%BB%A4%E6%80%BB%E7%BB%93"><span class="nav-number">2.3.</span> <span class="nav-text">相关终端命令总结</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="凤炎忻"
      src="/images/flyingPig.jpeg">
  <p class="site-author-name" itemprop="name">凤炎忻</p>
  <div class="site-description" itemprop="description">性浮脱，难酬一道，广涉寡精，杂而不博</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">44</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/fengyanxin" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;fengyanxin" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:ph18317192001@163.com" title="E-Mail → mailto:ph18317192001@163.com" rel="noopener" target="_blank"><i class="fab fa-mail fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://profile.zjurl.cn/rogue/ugc/profile/?user_id=51893718065" title="今日头条 → https:&#x2F;&#x2F;profile.zjurl.cn&#x2F;rogue&#x2F;ugc&#x2F;profile&#x2F;?user_id&#x3D;51893718065" rel="noopener" target="_blank"><i class="fab fa-jinritoutiao fa-fw"></i>今日头条</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://author.baidu.com/home?from=bjh_article&app_id=1665765419554477" title="百家号 → https:&#x2F;&#x2F;author.baidu.com&#x2F;home?from&#x3D;bjh_article&amp;app_id&#x3D;1665765419554477" rel="noopener" target="_blank"><i class="fab fa-baidu fa-fw"></i>百家号</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.xiaohongshu.com/user/profile/642cb9650000000011023394" title="小红书 → https:&#x2F;&#x2F;www.xiaohongshu.com&#x2F;user&#x2F;profile&#x2F;642cb9650000000011023394" rel="noopener" target="_blank"><i class="fab fa-xiaohongshu fa-fw"></i>小红书</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.liblib.art/userpage/c7816525373d4fbca7e45c1940ead98e" title="LibLib → https:&#x2F;&#x2F;www.liblib.art&#x2F;userpage&#x2F;c7816525373d4fbca7e45c1940ead98e" rel="noopener" target="_blank"><i class="fab fa-liblib fa-fw"></i>LibLib</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2020 – 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">凤炎忻</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span class="post-meta-item-text">站点总字数：</span>
    <span title="站点总字数">96k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">5:48</span>
</div>
  <div class="addthis_inline_share_toolbox">
    <script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-64097eaa671e32e2" async="async"></script>
  </div>

        








      </div>
    </footer>
  </div>

  
  
  <script color='255,255,255' opacity='0.95' zIndex='-1' count='150' src="/lib/canvas-nest/canvas-nest.min.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/pangu@4/dist/browser/pangu.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>

<script>
var options = {
  bottom: '64px',
  right: 'unset',
  left: '32px',
  time: '0.5s',
  mixColor: 'transparent',
  backgroundColor: 'transparent',
  buttonColorDark: '#100f2c',
  buttonColorLight: '#fff',
  saveInCookies: true,
  label: '🌓',
  autoMatchOsTheme: false
}
const darkmode = new Darkmode(options);
window.darkmode = darkmode;
darkmode.showWidget();
</script>

  <script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-needmoreshare2@1/needsharebutton.min.js"></script>
  <script>
      pbOptions = {};
        pbOptions.iconStyle = "box";
        pbOptions.boxForm = "horizontal";
        pbOptions.position = "bottomCenter";
        pbOptions.networks = "Weibo,Wechat,Douban,QQZone,Twitter,Facebook";
      new needShareButton('#needsharebutton-postbottom', pbOptions);
  </script>

<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : true,
      appId      : '7EJkVswo79CmfmbwincRPjrA-gzGzoHsz',
      appKey     : 'v7t6DWozwkcL2qIDeSC5kupC',
      placeholder: "说点什么吧！",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : true,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
