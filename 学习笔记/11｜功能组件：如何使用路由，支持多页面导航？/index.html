<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png"><link rel="mask-icon" href="/images/logo.svg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/all.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css"><script src="/lib/pace/pace.min.js"></script><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"fengyanxin.github.io",root:"/",scheme:"Gemini",version:"7.8.0",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:"mac"},back2top:{enable:!0,sidebar:!1,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!0,mediumzoom:!1,lazyload:!0,pangu:!0,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},motion:{enable:!0,async:!0,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},path:"search.xml"}</script><meta name="description" content="å¦‚ä½•ä½¿ç”¨è·¯ç”±ï¼Œæ”¯æŒå¤šé¡µé¢å¯¼èˆªï¼Ÿ"><meta property="og:type" content="article"><meta property="og:title" content="ã€iOSè¿›é˜¶ã€‘11 | åŠŸèƒ½ç»„ä»¶ï¼šå¦‚ä½•ä½¿ç”¨è·¯ç”±ï¼Œæ”¯æŒå¤šé¡µé¢å¯¼èˆªï¼Ÿ"><meta property="og:url" content="https://fengyanxin.github.io/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/11%EF%BD%9C%E5%8A%9F%E8%83%BD%E7%BB%84%E4%BB%B6%EF%BC%9A%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%E8%B7%AF%E7%94%B1%EF%BC%8C%E6%94%AF%E6%8C%81%E5%A4%9A%E9%A1%B5%E9%9D%A2%E5%AF%BC%E8%88%AA%EF%BC%9F/index.html"><meta property="og:site_name" content="å‡¤ç‚å¿»çš„ä¸ªäººç¬”è®°"><meta property="og:description" content="å¦‚ä½•ä½¿ç”¨è·¯ç”±ï¼Œæ”¯æŒå¤šé¡µé¢å¯¼èˆªï¼Ÿ"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://raw.githubusercontent.com/fengyanxin/YXBlogPic/main/17428840890690.jpg"><meta property="og:image" content="https://raw.githubusercontent.com/fengyanxin/YXBlogPic/main/17428841755721.jpg"><meta property="og:image" content="https://raw.githubusercontent.com/fengyanxin/YXBlogPic/main/17428842560106.jpg"><meta property="og:image" content="https://raw.githubusercontent.com/fengyanxin/YXBlogPic/main/17428844095818.jpg"><meta property="og:image" content="https://raw.githubusercontent.com/fengyanxin/YXBlogPic/main/17428854893504.jpg"><meta property="og:image" content="https://raw.githubusercontent.com/fengyanxin/YXBlogPic/main/17429010367164.jpg"><meta property="og:image" content="https://raw.githubusercontent.com/fengyanxin/YXBlogPic/main/17429011467875.jpg"><meta property="og:image" content="https://raw.githubusercontent.com/fengyanxin/YXBlogPic/main/17429011785829.jpg"><meta property="og:image" content="https://raw.githubusercontent.com/fengyanxin/YXBlogPic/main/17429012218515.jpg"><meta property="og:image" content="https://raw.githubusercontent.com/fengyanxin/YXBlogPic/main/17429014557173.jpg"><meta property="og:image" content="https://raw.githubusercontent.com/fengyanxin/YXBlogPic/main/17429014963985.jpg"><meta property="og:image" content="https://raw.githubusercontent.com/fengyanxin/YXBlogPic/main/17429015814736.jpg"><meta property="article:published_time" content="2025-03-25T06:26:08.000Z"><meta property="article:modified_time" content="2025-05-15T02:14:16.444Z"><meta property="article:author" content="å‡¤ç‚å¿»"><meta property="article:tag" content="å­¦ä¹ ç¬”è®°"><meta property="article:tag" content="iOS"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://raw.githubusercontent.com/fengyanxin/YXBlogPic/main/17428840890690.jpg"><link rel="canonical" href="https://fengyanxin.github.io/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/11%EF%BD%9C%E5%8A%9F%E8%83%BD%E7%BB%84%E4%BB%B6%EF%BC%9A%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%E8%B7%AF%E7%94%B1%EF%BC%8C%E6%94%AF%E6%8C%81%E5%A4%9A%E9%A1%B5%E9%9D%A2%E5%AF%BC%E8%88%AA%EF%BC%9F/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"zh-CN"}</script><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/ilyabirman-likely@2/release/likely.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/theme-next/theme-next-needmoreshare2@1/needsharebutton.min.css"><style>#needsharebutton-postbottom{cursor:pointer;height:26px;margin-top:10px;position:relative}#needsharebutton-postbottom .btn{border:1px solid $btn-default-border-color;border-radius:3px;display:initial;padding:1px 4px}</style><title>ã€iOSè¿›é˜¶ã€‘11 | åŠŸèƒ½ç»„ä»¶ï¼šå¦‚ä½•ä½¿ç”¨è·¯ç”±ï¼Œæ”¯æŒå¤šé¡µé¢å¯¼èˆªï¼Ÿ | å‡¤ç‚å¿»çš„ä¸ªäººç¬”è®°</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="å‡¤ç‚å¿»çš„ä¸ªäººç¬”è®°" type="application/atom+xml"><style>.darkmode--activated{--body-bg-color:#282828;--content-bg-color:#333;--card-bg-color:#555;--text-color:#ccc;--blockquote-color:#bbb;--link-color:#ccc;--link-hover-color:#eee;--brand-color:#ddd;--brand-hover-color:#ddd;--table-row-odd-bg-color:#282828;--table-row-hover-bg-color:#363636;--menu-item-bg-color:#555;--btn-default-bg:#222;--btn-default-color:#ccc;--btn-default-border-color:#555;--btn-default-hover-bg:#666;--btn-default-hover-color:#ccc;--btn-default-hover-border-color:#666;--highlight-background:#282b2e;--highlight-foreground:#a9b7c6;--highlight-gutter-background:#34393d;--highlight-gutter-foreground:#9ca9b6}.darkmode--activated img{opacity:.75}.darkmode--activated img:hover{opacity:.9}.darkmode--activated code{color:#69dbdc;background:0 0}button.darkmode-toggle{z-index:9999}.darkmode-ignore,img{display:flex!important}.beian img{display:inline-block!important}</style></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ "><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span><h1 class="site-title">å‡¤ç‚å¿»çš„ä¸ªäººç¬”è®°</h1><span class="logo-line-after"><i></i></span></a><p class="site-subtitle" itemprop="description">æˆ‘æœ‰ä¸€å£¶é…’ï¼Œè¶³ä»¥æ…°é£å°˜ï¼</p></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul id="menu" class="main-menu menu"><li class="menu-item menu-item-home"> <a href="/" rel="section">é¦–é¡µ</a></li><li class="menu-item menu-item-tags"> <a href="/tags/" rel="section">æ ‡ç­¾<span class="badge">9</span></a></li><li class="menu-item menu-item-categories"> <a href="/categories/" rel="section">åˆ†ç±»<span class="badge">7</span></a></li><li class="menu-item menu-item-archives"> <a href="/archives/" rel="section">å½’æ¡£<span class="badge">39</span></a></li><li class="menu-item menu-item-commonweal"> <a href="/404/" rel="section">å…¬ç›Š 404</a></li><li class="menu-item menu-item-search"> <a role="button" class="popup-trigger">æœç´¢</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocapitalize="off" placeholder="æœç´¢..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"><div id="no-result"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content post posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://fengyanxin.github.io/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/11%EF%BD%9C%E5%8A%9F%E8%83%BD%E7%BB%84%E4%BB%B6%EF%BC%9A%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%E8%B7%AF%E7%94%B1%EF%BC%8C%E6%94%AF%E6%8C%81%E5%A4%9A%E9%A1%B5%E9%9D%A2%E5%AF%BC%E8%88%AA%EF%BC%9F/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/flyingPig.jpeg"><meta itemprop="name" content="å‡¤ç‚å¿»"><meta itemprop="description" content="æ€§æµ®è„±ï¼Œéš¾é…¬ä¸€é“ï¼Œå¹¿æ¶‰å¯¡ç²¾ï¼Œæ‚è€Œä¸åš"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="å‡¤ç‚å¿»çš„ä¸ªäººç¬”è®°"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> ã€iOSè¿›é˜¶ã€‘11 | åŠŸèƒ½ç»„ä»¶ï¼šå¦‚ä½•ä½¿ç”¨è·¯ç”±ï¼Œæ”¯æŒå¤šé¡µé¢å¯¼èˆªï¼Ÿ</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">å‘è¡¨äº</span> <time title="åˆ›å»ºæ—¶é—´ï¼š2025-03-25 14:26:08" itemprop="dateCreated datePublished" datetime="2025-03-25T14:26:08+08:00">2025-03-25</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i></span> <span class="post-meta-item-text">æ›´æ–°äº</span> <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-05-15 10:14:16" itemprop="dateModified" datetime="2025-05-15T10:14:16+08:00">2025-05-15</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i></span> <span class="post-meta-item-text">åˆ†ç±»äº</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">å­¦ä¹ ç¬”è®°</span></a></span></span><span id="/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/11%EF%BD%9C%E5%8A%9F%E8%83%BD%E7%BB%84%E4%BB%B6%EF%BC%9A%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%E8%B7%AF%E7%94%B1%EF%BC%8C%E6%94%AF%E6%8C%81%E5%A4%9A%E9%A1%B5%E9%9D%A2%E5%AF%BC%E8%88%AA%EF%BC%9F/" class="post-meta-item leancloud_visitors" data-flag-title="ã€iOSè¿›é˜¶ã€‘11 | åŠŸèƒ½ç»„ä»¶ï¼šå¦‚ä½•ä½¿ç”¨è·¯ç”±ï¼Œæ”¯æŒå¤šé¡µé¢å¯¼èˆªï¼Ÿ" title="é˜…è¯»æ¬¡æ•°"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span><span class="leancloud-visitors-count"></span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i></span> <span class="post-meta-item-text">Valineï¼š</span><a title="valine" href="/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/11%EF%BD%9C%E5%8A%9F%E8%83%BD%E7%BB%84%E4%BB%B6%EF%BC%9A%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%E8%B7%AF%E7%94%B1%EF%BC%8C%E6%94%AF%E6%8C%81%E5%A4%9A%E9%A1%B5%E9%9D%A2%E5%AF%BC%E8%88%AA%EF%BC%9F/#valine-comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/11%EF%BD%9C%E5%8A%9F%E8%83%BD%E7%BB%84%E4%BB%B6%EF%BC%9A%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%E8%B7%AF%E7%94%B1%EF%BC%8C%E6%94%AF%E6%8C%81%E5%A4%9A%E9%A1%B5%E9%9D%A2%E5%AF%BC%E8%88%AA%EF%BC%9F/" itemprop="commentCount"></span></a></span><br><span class="post-meta-item" title="æœ¬æ–‡å­—æ•°"><span class="post-meta-item-icon"><i class="far fa-file-word"></i></span> <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span> <span>4.7k</span></span><span class="post-meta-item" title="é˜…è¯»æ—¶é•¿"><span class="post-meta-item-icon"><i class="far fa-clock"></i></span> <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span> <span>17 åˆ†é’Ÿ</span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="å¦‚ä½•ä½¿ç”¨è·¯ç”±ï¼Œæ”¯æŒå¤šé¡µé¢å¯¼èˆªï¼Ÿ"><a href="#å¦‚ä½•ä½¿ç”¨è·¯ç”±ï¼Œæ”¯æŒå¤šé¡µé¢å¯¼èˆªï¼Ÿ" class="headerlink" title="å¦‚ä½•ä½¿ç”¨è·¯ç”±ï¼Œæ”¯æŒå¤šé¡µé¢å¯¼èˆªï¼Ÿ"></a>å¦‚ä½•ä½¿ç”¨è·¯ç”±ï¼Œæ”¯æŒå¤šé¡µé¢å¯¼èˆªï¼Ÿ</h1><p><img data-src="https://raw.githubusercontent.com/fengyanxin/YXBlogPic/main/17428840890690.jpg"></p><span id="more"></span><p>éšç€ App åŠŸèƒ½çš„ä¸æ–­ä¸°å¯Œï¼Œä»¥å†…å®¹å’Œä½“éªŒä¸ºå¯¼å‘çš„å¯¼èˆªæ¨¡å¼å˜å¾—è¶Šæ¥è¶Šæµè¡Œã€‚è¿™ç§å¯¼èˆªæ¨¡å¼çš„ç‰¹ç‚¹æ˜¯ä¸€ä¸ªé¡µé¢å¯ä»¥å¯¼èˆªåˆ°ä»»æ„ä¸€ä¸ªå…¶ä»–çš„é¡µé¢ã€‚</p><p>æ¯”å¦‚åœ¨ iOS é‡Œä½¿ç”¨ UIKit æ¥å®ç°å¯¼èˆªåŠŸèƒ½æ—¶ï¼Œæº ViewController éœ€è¦çŸ¥é“ç›®æ ‡ ViewController çš„ç±»å‹ä¿¡æ¯ï¼Œæ¢å¥è¯è¯´å°±æ˜¯æº ViewController å¿…é¡»ç›´æ¥ä¾èµ–ç›®æ ‡ ViewControllerã€‚è¿™ä¼šå¯¼è‡´ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿå¦‚æœ Appçš„å¤šä¸ªæ¨¡å—ä¹‹é—´éœ€è¦ç›¸äº’å¯¼èˆªï¼Œé‚£ä¹ˆå®ƒä»¬ä¹‹é—´å°±ä¼šäº§ç”Ÿå¾ªç¯ä¾èµ–ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img data-src="https://raw.githubusercontent.com/fengyanxin/YXBlogPic/main/17428841755721.jpg"></p><p>å‡å¦‚éšç€ Moments App ä¸æ–­å‘å±•ï¼Œé™¤äº†æœ‹å‹åœˆåŠŸèƒ½ä»¥å¤–ï¼Œæˆ‘ä»¬è¿˜å¯èƒ½æ–°å¢å•†åŸåŠŸèƒ½å’Œå®æ—¶é€šè®¯åŠŸèƒ½ã€‚å½“ç”¨æˆ·ç‚¹å‡»æœ‹å‹åœˆä¿¡æ¯çš„æ—¶å€™å¯ä»¥æ‰“å¼€å•†å“ä¿¡æ¯é¡µé¢ï¼Œå½“ç‚¹å‡»æœ‹å‹å¤´åƒæ—¶å¯ä»¥è¿›å…¥å®æ—¶é€šè®¯é¡µé¢ã€‚è€Œåœ¨å•†å“ä¿¡æ¯é¡µé¢é‡Œé¢ï¼Œç”¨æˆ·è¿˜å¯ä»¥æ‰“å¼€æœ‹å‹åœˆé¡µé¢è¿›è¡Œåˆ†äº«ã€‚</p><p>è¿™ç§æ¨¡å—ä¹‹é—´çš„å¾ªç¯ä¾èµ–ä¼šå¼•èµ·ä¸€ç³»åˆ—çš„é—®é¢˜ï¼Œæ¯”å¦‚å› ä¸ºä»£ç å¼ºè€¦åˆï¼Œå¯¼è‡´ä»£ç å˜å¾—éš¾ä»¥ç»´æŠ¤ã€‚å¦‚æœä¸åŒåŠŸèƒ½ç”±ä¸åŒäº§å“ç ”å‘å›¢é˜Ÿè´Ÿè´£å¼€å‘ä¸ç»´æŠ¤ï¼Œå¾ªç¯ä¾èµ–è¿˜ä¼šå¢åŠ å¾ˆå¤šçš„æ²Ÿé€šæˆæœ¬ï¼Œæ¯æ¬¡ä¸€ç‚¹å°æ”¹åŠ¨éƒ½éœ€è¦é€šçŸ¥å…¶ä»–å›¢é˜Ÿè¿›è¡Œæ›´æ–°ã€‚</p><p>é‚£ä¹ˆï¼Œæœ‰æ²¡æœ‰ä»€ä¹ˆå¥½çš„åŠæ³•è§£å†³è¿™ç§é—®é¢˜å‘¢ï¼Ÿ</p><h2 id="è·¯ç”±æ–¹æ¡ˆçš„æ¶æ„ä¸å®ç°"><a href="#è·¯ç”±æ–¹æ¡ˆçš„æ¶æ„ä¸å®ç°" class="headerlink" title="è·¯ç”±æ–¹æ¡ˆçš„æ¶æ„ä¸å®ç°"></a>è·¯ç”±æ–¹æ¡ˆçš„æ¶æ„ä¸å®ç°</h2><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€å¥—åŸºäº URL çš„è·¯ç”±æ–¹æ¡ˆæ¥è§£å†³å¤šä¸ªæ¨¡å—ä¹‹é—´çš„å¯¼èˆªé—®é¢˜ã€‚ä¸‹é¢æ˜¯è¿™å¥—è·¯ç”±æ–¹æ¡ˆçš„æ¶æ„å›¾ã€‚</p><p><img data-src="https://raw.githubusercontent.com/fengyanxin/YXBlogPic/main/17428842560106.jpg"></p><p>è¿™ä¸ªæ¶æ„åˆ†æˆä¸‰å±‚ï¼Œå› ä¸ºä¸Šå±‚ç»„ä»¶ä¾èµ–äºä¸‹å±‚ç»„ä»¶ï¼Œæˆ‘ä»¬ä»ä¸‹å¾€ä¸Šæ¥çœ‹ã€‚</p><ul><li><p><strong>æœ€åº•å±‚æ˜¯åŸºç¡€ç»„ä»¶å±‚</strong>ï¼Œè·¯ç”±æ¨¡å—ä¹Ÿå±äºåŸºç¡€ç»„ä»¶ï¼Œè·¯ç”±æ¨¡å—ä¸ä¾èµ–äºä»»ä½•å…¶ä»–ç»„ä»¶ã€‚</p></li><li><p><strong>ä¸­é—´å±‚æ˜¯åŠŸèƒ½ä¸šåŠ¡å±‚</strong>ï¼Œå„ä¸ªåŠŸèƒ½éƒ½å•ç‹¬å°è£…ä¸ºä¸€ä¸ªæ¨¡å—ï¼Œä»–ä»¬éƒ½ä¾èµ–äºåŸºç¡€ç»„ä»¶å±‚ï¼Œä½†åŠŸèƒ½å±‚å†…çš„å„ä¸ªæ¨¡å—å½¼æ­¤ä¸ç›¸äº’ä¾èµ–ï¼Œè¿™èƒ½æœ‰æ•ˆä¿è¯å¤šä¸ªåŠŸèƒ½ç ”å‘å›¢é˜Ÿå¹¶è¡Œå¼€å‘ã€‚</p></li><li><p><strong>æœ€ä¸Šå±‚æ˜¯ App å®¹å™¨æ¨¡å—</strong>ï¼Œå®ƒè´Ÿè´£æŠŠæ‰€æœ‰åŠŸèƒ½æ¨¡å—æ•´åˆèµ·æ¥ï¼Œå½¢æˆä¸€ä¸ªå®Œæ•´çš„äº§å“ã€‚</p></li></ul><p>è¿™å¥—è·¯ç”±æ–¹æ¡ˆä¸»è¦ç”±ä¸¤å¤§éƒ¨åˆ†ç»„æˆï¼Œç‹¬ç«‹çš„è·¯ç”±æ¨¡å—å’ŒåµŒå…¥åŠŸèƒ½æ¨¡å—é‡Œé¢çš„å¯¼èˆªç»„ä»¶ã€‚ æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä»¥ Moments App ä¸ºä¾‹å­ä¸€èµ·çœ‹çœ‹è¿™å¥—æ–¹æ¡ˆæ˜¯æ€æ ·å®ç°çš„å§ã€‚</p><p><strong>è¿™å¥—è·¯ç”±æ–¹æ¡ˆä¸»è¦ç”±ä¸¤å¤§éƒ¨åˆ†ç»„æˆï¼Œç‹¬ç«‹çš„è·¯ç”±æ¨¡å—å’ŒåµŒå…¥åŠŸèƒ½æ¨¡å—é‡Œé¢çš„å¯¼èˆªç»„ä»¶</strong>ã€‚ æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä»¥ Moments App ä¸ºä¾‹å­ä¸€èµ·çœ‹çœ‹è¿™å¥—æ–¹æ¡ˆæ˜¯æ€æ ·å®ç°çš„å§ã€‚</p><h2 id="è·¯ç”±æ¨¡å—"><a href="#è·¯ç”±æ¨¡å—" class="headerlink" title="è·¯ç”±æ¨¡å—"></a>è·¯ç”±æ¨¡å—</h2><p>è·¯ç”±æ¨¡å—éå¸¸ç®€å•ï¼Œä¸»è¦æœ‰ä¸¤ä¸ªåè®®ï¼ˆProtocolï¼‰å’Œä¸€ä¸ªç±»ç»„æˆï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img data-src="https://raw.githubusercontent.com/fengyanxin/YXBlogPic/main/17428844095818.jpg"></p><h3 id="AppRouting-å’Œ-AppRouter"><a href="#AppRouting-å’Œ-AppRouter" class="headerlink" title="AppRouting å’Œ AppRouter"></a>AppRouting å’Œ AppRouter</h3><p>æˆ‘ä»¬å…ˆæ¥çœ‹è·¯ç”±æ¨¡å—é‡Œçš„ <code>AppRouting</code> å’Œ <code>AppRouter</code>ã€‚å…¶ä¸­ï¼Œ<code>AppRouting</code> åè®®å®šä¹‰äº†è·¯ç”±æ¨¡å—çš„æ¥å£è€Œ <code>AppRouter</code> æ˜¯ <code>AppRouting</code> åè®®çš„å®ç°ç±»ã€‚</p><p><code>AppRouting</code> åè®®çš„ä»£ç å¦‚ä¸‹:</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protocol</span> <span class="title class_">AppRouting</span> &#123;</span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">register</span>(<span class="params">path</span>: <span class="type">String</span>, <span class="params">navigator</span>: <span class="type">Navigating</span>)</span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">route</span>(<span class="params">to</span> <span class="params">url</span>: <span class="type">URL</span>?, <span class="params">from</span> <span class="params">routingSource</span>: <span class="type">RoutingSource</span>?, <span class="params">using</span> <span class="params">transitionType</span>: <span class="type">TransitionType</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªåè®®åªæœ‰ä¸¤ä¸ªæ–¹æ³•ï¼š</p><ol><li><p>ç”¨äºæ³¨å†Œ <code>Navigator</code>ï¼ˆå¯¼èˆªå™¨ï¼‰çš„ <code>register(path: String, navigator: Navigating)</code> æ–¹æ³•ï¼›</p></li><li><p>è§¦å‘è·¯ç”±çš„ <code>route(to url: URL?, from routingSource: RoutingSource?, using transitionType: TransitionType)</code> æ–¹æ³•ã€‚</p></li></ol><p>å…¶ä¸­ <code>route(to:from:using)</code> æ–¹æ³•æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼š</p><ol><li><p>ç¬¬ä¸€ä¸ªæ˜¯ URLï¼Œæˆ‘ä»¬æ•´å¥—è·¯ç”±ç³»ç»Ÿéƒ½æ˜¯åŸºäº URL çš„ï¼Œå› æ­¤éœ€è¦æŠŠ URL ä¼ é€’è¿›æ¥è¿›è¡Œå¯¼èˆªã€‚</p></li><li><p>ç¬¬äºŒä¸ªæ˜¯ç±»å‹ä¸º <code>RoutingSource</code> çš„å‚æ•°ï¼Œè¯¥ <code>RoutingSource</code> æ˜¯ä¸€ä¸ªåè®®ï¼Œä»£ç å¦‚ä¸‹ï¼š</p></li></ol><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protocol</span> <span class="title class_">RoutingSource</span>: <span class="title class_">class</span> &#123; &#125;</span><br><span class="line"><span class="keyword">extension</span> <span class="title class_">UIViewController</span>: <span class="title class_">RoutingSource</span> &#123; &#125;</span><br></pre></td></tr></table></figure><p>é¦–å…ˆï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªåä¸º <code>RoutingSource</code> çš„ç©ºåè®®ï¼Œç„¶åè®© <code>UIViewController</code> éµå¾ªè¯¥åè®®ã€‚è¿™æ ·å°±èƒ½è®© <code>route(to:from:using)</code> æ–¹æ³•ä¸ <code>UIViewController</code> è¿›è¡Œè§£è€¦ã€‚</p><ol start="3"><li>ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ <code>TransitionType</code> ç±»å‹ã€‚ä»£ç å¦‚ä¸‹ï¼š</li></ol><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">TransitionType</span>: <span class="title class_">String</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> show, present</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>TransitionType</code> æ˜¯ä¸€ä¸ªæšä¸¾ï¼ˆenumï¼‰ç±»å‹ï¼Œç”¨äºè¡¨ç¤ºå¯¼èˆªè¿‡ç¨‹ä¸­çš„è½¬åœºåŠ¨ä½œã€‚<code>show</code> ç”¨äºæŠŠæ–°çš„ç›®æ ‡ <code>ViewController</code> æ¨è¿›ï¼ˆpushï¼‰åˆ°å½“å‰çš„ <code>UINavigationController</code> é‡Œé¢ã€‚è€Œ <code>present</code> ä¼šæŠŠæ–°çš„ç›®æ ‡ <code>ViewController</code> é€šè¿‡æ¨¡æ€çª—å£ï¼ˆmodalï¼‰çš„æ–¹å¼æ¥å‘ˆç°ã€‚</p><p>è‡³äº <code>AppRouter</code> æ˜¯ <code>AppRouting</code> åè®®çš„å®ç°ç±»ï¼Œå…¶ä»–çš„å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">AppRouter</span>: <span class="title class_">AppRouting</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> shared: <span class="type">AppRouter</span> <span class="operator">=</span> .<span class="keyword">init</span>()</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> navigators: [<span class="type">String</span>: <span class="type">Navigating</span>] <span class="operator">=</span> [:]</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">init</span>() &#123; &#125;</span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">register</span>(<span class="params">path</span>: <span class="type">String</span>, <span class="params">navigator</span>: <span class="type">Navigating</span>) &#123;</span><br><span class="line">        navigators[path.lowercased()] <span class="operator">=</span> navigator</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">route</span>(<span class="params">to</span> <span class="params">url</span>: <span class="type">URL</span>?, <span class="params">from</span> <span class="params">routingSource</span>: <span class="type">RoutingSource</span>?, <span class="params">using</span> <span class="params">transitionType</span>: <span class="type">TransitionType</span> <span class="operator">=</span> .present) &#123;</span><br><span class="line">        <span class="keyword">guard</span> <span class="keyword">let</span> url <span class="operator">=</span> url, <span class="keyword">let</span> sourceViewController <span class="operator">=</span> routingSource <span class="keyword">as?</span> <span class="type">UIViewController</span> <span class="operator">??</span> <span class="type">UIApplication</span>.shared.rootViewController <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">        <span class="keyword">let</span> path <span class="operator">=</span> url.lastPathComponent.lowercased()</span><br><span class="line">        <span class="keyword">guard</span> <span class="keyword">let</span> urlComponents <span class="operator">=</span> <span class="type">URLComponents</span>(url: url, resolvingAgainstBaseURL: <span class="literal">false</span>) <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">        <span class="keyword">let</span> parameters: [<span class="type">String</span>: <span class="type">String</span>] <span class="operator">=</span> (urlComponents.queryItems <span class="operator">??</span> []).reduce(into: [:]) &#123; params, queryItem <span class="keyword">in</span></span><br><span class="line">            params[queryItem.name.lowercased()] <span class="operator">=</span> queryItem.value</span><br><span class="line">        &#125;</span><br><span class="line">        navigators[path]<span class="operator">?</span>.navigate(from: sourceViewController, using: transitionType, parameters: parameters)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>AppRouter</code> é¦–å…ˆå®šä¹‰äº†ä¸€ä¸ªç”¨äºå­˜å‚¨å„ä¸ª <code>Navigator</code> çš„ç§æœ‰å±æ€§<code>navigators</code>ã€‚<code>navigators</code> æ˜¯ä¸€ä¸ªå­—å…¸ç±»å‹ï¼Œå®ƒçš„ <code>Key</code> æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œç”¨äºä¿å­˜ <code>URL</code> çš„è·¯å¾„å€¼ã€‚è€Œæ‰€å­˜å‚¨çš„å€¼æ˜¯å…·ä½“çš„ <code>Navigator</code> çš„å®ä¾‹ã€‚</p><p>ç„¶åï¼Œ<code>AppRouter</code> å®ç°äº† <code>register</code> å’Œ <code>route</code> ä¸¤ä¸ªæ–¹æ³•ã€‚<code>register</code> æ–¹æ³•çš„å®ç°éå¸¸ç®€å•ï¼Œå°±æ˜¯æŠŠ <code>path</code> å’Œ <code>navigator</code> å­˜åˆ°ç§æœ‰å±æ€§ <code>navigators</code> é‡Œé¢ã€‚æ¥ç€æˆ‘è¯¦ç»†ä»‹ç»ä¸€ä¸‹ <code>route</code> æ–¹æ³•çš„å®ç°ã€‚</p><p>å› ä¸ºæ•´å¥—è·¯ç”±æ–¹æ¡ˆéƒ½æ˜¯åŸºäº <code>URL</code> è¿›è¡Œå¯¼èˆªï¼Œå› æ­¤åœ¨è¯¥æ–¹æ³•é‡Œé¢ï¼Œé¦–å…ˆéœ€è¦æ£€æµ‹ <code>url</code> æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ºç©ºå°±ç›´æ¥è¿”å›äº†ï¼Œç„¶åæŠŠ <code>routingSource</code> å‘ä¸‹è½¬å‹ (downcast) ä¸º <code>UIViewController</code>ï¼Œå¦‚æœä¸ºç©ºå°±ä½¿ç”¨<code>rootViewController</code> ä½œä¸º <code>sourceViewController</code> æ¥è¡¨ç¤ºå¯¼èˆªè¿‡ç¨‹ä¸­çš„æº <code>ViewController</code>ã€‚</p><p>è¿™äº›æ£€éªŒéƒ½é€šè¿‡ä»¥åï¼Œæˆ‘ä»¬ä» <code>url</code> æ¥å–å‡º <code>path</code> ä½œä¸ºå¯¼èˆªçš„ <code>Key</code>ï¼ŒåŒæ—¶ä» <code>Query String</code> é‡Œé¢å–å‡º <code>parameters</code> å¹¶ä½œä¸ºå‚æ•°ä¼ é€’ç»™ç›®æ ‡ <code>ViewController</code>ã€‚</p><p>æœ€åä¸€æ­¥æ˜¯æ ¹æ® <code>path</code> ä» <code>navigators</code> å±æ€§ä¸­å–å‡ºå¯¹åº”çš„ <code>Navigator</code>ï¼Œç„¶åè°ƒç”¨å…¶ <code>navigate(from viewController: UIViewController, using transitionType: TransitionType, parameters: [String: String])</code> æ–¹æ³•è¿›è¡Œå¯¼èˆªã€‚</p><h3 id="Navigating-åè®®"><a href="#Navigating-åè®®" class="headerlink" title="Navigating åè®®"></a>Navigating åè®®</h3><p>é™¤äº† <code>AppRouting</code> å’Œ <code>AppRouter</code> ä»¥å¤–ï¼Œè·¯ç”±æ¨¡å—çš„æ ¸å¿ƒè¿˜åŒ…å«äº†ä¸€ä¸ªå«ä½œ <code>Navigating</code> çš„åè®®ã€‚å®ƒè´Ÿè´£å…·ä½“çš„å¯¼èˆªå·¥ä½œï¼Œä¸‹é¢æˆ‘ä»¬ä¸€èµ·çœ‹çœ‹è¿™ä¸ªåè®®çš„å®šä¹‰ä¸å®ç°å§ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protocol</span> <span class="title class_">Navigating</span> &#123;</span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">navigate</span>(<span class="params">from</span> <span class="params">viewController</span>: <span class="type">UIViewController</span>, <span class="params">using</span> <span class="params">transitionType</span>: <span class="type">TransitionType</span>, <span class="params">parameters</span>: [<span class="params">String</span>: <span class="type">String</span>])</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">extension</span> <span class="title class_">Navigating</span> &#123;</span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">navigate</span>(<span class="params">to</span> <span class="params">destinationViewController</span>: <span class="type">UIViewController</span>, <span class="params">from</span> <span class="params">sourceViewController</span>: <span class="type">UIViewController</span>, <span class="params">using</span> <span class="params">transitionType</span>: <span class="type">TransitionType</span>) &#123;</span><br><span class="line">        <span class="keyword">switch</span> transitionType &#123;</span><br><span class="line">        <span class="keyword">case</span> .show:</span><br><span class="line">            sourceViewController.show(destinationViewController, sender: <span class="literal">nil</span>)</span><br><span class="line">        <span class="keyword">case</span> .present:</span><br><span class="line">            sourceViewController.present(destinationViewController, animated: <span class="literal">true</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>Navigating</code> åè®®è´Ÿè´£æ¡¥æ¥è·¯ç”±æ¨¡å—å’Œå…¶ä»–åŠŸèƒ½æ¨¡å—ï¼Œå®ƒåªå®šä¹‰äº†ä¸€ä¸ªåå« <code>navigate(from viewController: UIViewController, using transitionType: TransitionType, parameters: [String: String])</code> çš„æ–¹æ³•ä¾› <code>AppRouter</code> æ¥è°ƒç”¨ã€‚</p><p>åŒæ—¶æˆ‘ä»¬ä¹Ÿç»™ <code>Navigating</code> å®šä¹‰äº†ä¸€ä¸ªå«ä½œ <code>navigate(to destinationViewController: UIViewController, from sourceViewController: UIViewController, using transitionType: TransitionType)</code> çš„æ‰©å±•æ–¹æ³• (Extension method) æ¥ç»Ÿä¸€å°è£…å¯¼èˆªçš„å¤„ç†é€»è¾‘ã€‚</p><p>å½“ <code>transitionType</code> ä¸º <code>.show</code> çš„æ—¶å€™ï¼Œè¯¥æ–¹æ³•ä¼šè°ƒç”¨ <code>UIViewController</code> çš„ <code>show(_ vc: UIViewController, sender: Any?)</code> æ–¹æ³•è¿›è¡Œå¯¼èˆªã€‚åœ¨è°ƒç”¨ <code>show</code> æ–¹æ³•çš„æ—¶å€™ï¼ŒiOS ç³»ç»Ÿä¼šåˆ¤æ–­ <code>sourceViewController</code> æ˜¯å­˜æ”¾åœ¨ <code>NavigationController</code> è¿˜æ˜¯ <code>SplitViewController</code> é‡Œé¢ï¼Œå¹¶è§¦å‘ç›¸åº”çš„æ¢åœºï¼ˆTransitionï¼‰åŠ¨ä½œã€‚ä¾‹å¦‚å½“ <code>sourceViewController</code> å­˜æ”¾åœ¨ <code>NavigationController</code> é‡Œé¢çš„æ—¶å€™å°±ä¼šæŠŠ <code>destinationViewController</code> æ¨è¿› <code>NavigationController</code> çš„æ ˆï¼ˆStackï¼‰é‡Œé¢ã€‚</p><p>å½“ <code>transitionType</code> ä¸º <code>.present</code> çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±è°ƒç”¨ <code>UIViewController</code> çš„ <code>present(_ viewControllerToPresent: UIViewController, animated flag: Bool, completion: (() -&gt; Void)? = nil)</code> æ–¹æ³•è¿›è¡Œå¯¼èˆªã€‚åœ¨è°ƒç”¨ <code>present</code> æ–¹æ³•çš„æ—¶å€™ï¼ŒiOS ç³»ç»Ÿä¼šæŠŠ <code>destinationViewController</code> é€šè¿‡æ¨¡æ€çª—å£çš„æ–¹å¼å‘ˆç°ã€‚</p><p>æœ‰äº† <code>Navigating</code> åè®®ä»¥åï¼Œæˆ‘ä»¬çœ‹çœ‹åŠŸèƒ½æ¨¡å—æ˜¯æ€æ ·å…³è”åˆ°è·¯ç”±æ¨¡å—çš„ã€‚</p><h2 id="å¯¼èˆªç»„ä»¶"><a href="#å¯¼èˆªç»„ä»¶" class="headerlink" title="å¯¼èˆªç»„ä»¶"></a>å¯¼èˆªç»„ä»¶</h2><p>æ‰€æœ‰åŠŸèƒ½æ¨¡å—éƒ½é€šè¿‡ <code>Navigator</code> ç±»å‹ä¸ºè·¯ç”±æ¨¡å—æä¾›å¯¼èˆªåŠŸèƒ½ã€‚ä¸€ä¸ªç›®æ ‡ <code>ViewController</code> å¯¹åº”ä¸€ä¸ª <code>Navigator</code>ã€‚å‡å¦‚å•†åŸæ¨¡å—æœ‰å•†åŸä¸»é¡µå’Œå•†å“ä¿¡æ¯é¡µé¢ä¸¤ä¸ª <code>ViewController</code>ï¼Œé‚£ä¹ˆå•†åŸæ¨¡å—å°±éœ€è¦æä¾›ä¸¤ä¸ª <code>Navigtor</code> æ¥åˆ†åˆ«å¯¼èˆªåˆ°è¿™ä¸¤ä¸ª <code>ViewController</code>ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬ä»¥ Moments App ä¸­å†…éƒ¨éšè—åŠŸèƒ½èœå•æ¨¡å—ä¸ºä¾‹å­ï¼Œçœ‹çœ‹ Navigator æ˜¯æ€æ ·å®ç°çš„ã€‚</p><p><img data-src="https://raw.githubusercontent.com/fengyanxin/YXBlogPic/main/17428854893504.jpg"></p><p>å†…éƒ¨éšè—åŠŸèƒ½èœå•æ¨¡å—æœ‰ä¸¤ä¸ª <code>ViewController</code>ï¼Œå› æ­¤éœ€è¦å®šä¹‰ä¸¤ä¸ªä¸åŒçš„ <code>Navigator</code>ã€‚å®ƒä»¬éƒ½éµå¾ªäº† <code>Navigating</code> åè®®ã€‚</p><h3 id="InternalMenuNavigator"><a href="#InternalMenuNavigator" class="headerlink" title="InternalMenuNavigator"></a>InternalMenuNavigator</h3><p><code>InternalMenuNavigator</code> è´Ÿè´£å¯¼èˆªåˆ°<code>InternalMenuViewController</code>ã€‚ä¸‹é¢æ˜¯å®ƒçš„å…·ä½“ä»£ç å®ç°ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">InternalMenuNavigator</span>: <span class="title class_">Navigating</span> &#123;</span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">navigate</span>(<span class="params">from</span> <span class="params">viewController</span>: <span class="type">UIViewController</span>, <span class="params">using</span> <span class="params">transitionType</span>: <span class="type">TransitionType</span>, <span class="params">parameters</span>: [<span class="params">String</span> : <span class="type">String</span>]) &#123;</span><br><span class="line">        <span class="keyword">let</span> navigationController <span class="operator">=</span> <span class="type">UINavigationController</span>(rootViewController: <span class="type">InternalMenuViewController</span>())</span><br><span class="line">        navigate(to: navigationController, from: viewController, using: transitionType)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»ä»£ç å¯ä»¥çœ‹åˆ°ï¼Œ<code>InternalMenuNavigator</code> çš„å®ç°éå¸¸ç®€å•ã€‚é¦–å…ˆï¼Œåˆå§‹åŒ– <code>InternalMenuViewController</code>çš„å®ä¾‹ï¼Œç„¶åæŠŠè¯¥å®ä¾‹æ”¾ç½®åˆ°ä¸€ä¸ª <code>UINavigationController</code> é‡Œé¢ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬è°ƒç”¨ <code>Navigating</code> çš„æ‰©å±•æ–¹æ³• <code>navigate(to destinationViewController: UIViewController, from sourceViewController: UIViewController, using transitionType: TransitionType)</code> æ¥è¿›è¡Œå¯¼èˆªã€‚</p><h3 id="DesignKitDemoNavigator"><a href="#DesignKitDemoNavigator" class="headerlink" title="DesignKitDemoNavigator"></a>DesignKitDemoNavigator</h3><p><code>DesignKitDemoNavigator</code> è´Ÿè´£å¯¼èˆªåˆ°<code>DesignKitDemoViewController</code>ã€‚ä¸‹é¢æ˜¯å®ç°çš„ä»£ç ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">DesignKitDemoNavigator</span>: <span class="title class_">Navigating</span> &#123;</span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">navigate</span>(<span class="params">from</span> <span class="params">viewController</span>: <span class="type">UIViewController</span>, <span class="params">using</span> <span class="params">transitionType</span>: <span class="type">TransitionType</span>, <span class="params">parameters</span>: [<span class="params">String</span>: <span class="type">String</span>]) &#123;</span><br><span class="line">        <span class="keyword">guard</span> <span class="keyword">let</span> productName <span class="operator">=</span> parameters[<span class="string">&quot;productname&quot;</span>], <span class="keyword">let</span> versionNumber <span class="operator">=</span> parameters[<span class="string">&quot;version&quot;</span>] <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">let</span> destinationViewController <span class="operator">=</span> <span class="type">DesignKitDemoViewController</span>(productName: productName, versionNumber: versionNumber)</span><br><span class="line">        navigate(to: destinationViewController, from: viewController, using: transitionType)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸ <code>InternalMenuNavigator</code> ä¸ä¸€æ ·çš„åœ°æ–¹æ˜¯ï¼Œ<code>DesignKitDemoNavigator</code> ä» <code>parameters</code> ä¸­å–å‡ºäº† <code>productNameå’ŒversionNumber</code> ä¸¤ä¸ªå‚æ•°çš„å€¼ï¼Œç„¶åä¼ é€’ç»™ <code>DesignKitDemoViewController</code> è¿›è¡Œåˆå§‹åŒ–ã€‚æœ€åä¹Ÿæ˜¯è°ƒç”¨ <code>Navigating</code> çš„æ‰©å±•æ–¹æ³• <code>navigate(to:from:using:)</code> è¿›è¡Œå¯¼èˆªã€‚</p><h2 id="è·¯ç”±æ–¹æ¡ˆçš„ä½¿ç”¨"><a href="#è·¯ç”±æ–¹æ¡ˆçš„ä½¿ç”¨" class="headerlink" title="è·¯ç”±æ–¹æ¡ˆçš„ä½¿ç”¨"></a>è·¯ç”±æ–¹æ¡ˆçš„ä½¿ç”¨</h2><p>ä»¥ä¸Šæ˜¯æœ‰å…³è·¯ç”±æ–¹æ¡ˆçš„æ¶æ„å’Œå®ç°ï¼Œæœ‰äº†è¿™ä¸ªè·¯ç”±æ–¹æ¡ˆä»¥åï¼Œé‚£æˆ‘ä»¬è¯¥å¦‚ä½•ä½¿ç”¨å®ƒå‘¢ï¼Ÿæ¥ä¸‹æ¥æˆ‘å°†ä»å®ƒçš„æ³¨å†Œä¸è°ƒç”¨ã€Universal Links çš„è·¯ç”±å’ŒéªŒè¯æ¥ä»‹ç»ä¸‹ã€‚</p><h3 id="è·¯ç”±çš„æ³¨å†Œä¸è°ƒç”¨"><a href="#è·¯ç”±çš„æ³¨å†Œä¸è°ƒç”¨" class="headerlink" title="è·¯ç”±çš„æ³¨å†Œä¸è°ƒç”¨"></a>è·¯ç”±çš„æ³¨å†Œä¸è°ƒç”¨</h3><p>å› ä¸º App å®¹å™¨æ¨¡å—ä¾èµ–æ‰€æœ‰çš„åŠŸèƒ½æ¨¡å—å’Œè·¯ç”±æ¨¡å—ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠè·¯ç”±æ³¨å†Œçš„é€»è¾‘æ”¾åœ¨è¯¥æ¨¡å—çš„ <code>AppDelegate</code> é‡Œé¢ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> router: <span class="type">AppRouting</span> <span class="operator">=</span> <span class="type">AppRouter</span>.shared</span><br><span class="line">router.register(path: <span class="string">&quot;InternalMenu&quot;</span>, navigator: <span class="type">InternalMenuNavigator</span>())</span><br><span class="line">router.register(path: <span class="string">&quot;DesignKit&quot;</span>, navigator: <span class="type">DesignKitDemoNavigator</span>())</span><br></pre></td></tr></table></figure><p>ä»ä¸Šé¢å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬é€šè¿‡ä¼ é€’ <code>path</code> å’Œ <code>navigator</code> çš„å®ä¾‹æ¥æ³¨å†Œè·¯ç”±ä¿¡æ¯ã€‚æ³¨å†Œå®Œæ¯•ä»¥åï¼Œå„ä¸ªåŠŸèƒ½æ¨¡å—å°±å¯ä»¥è°ƒç”¨ <code>route(to url: URL?, from routingSource: RoutingSource?, using transitionType: TransitionType)</code> æ–¹æ³•è¿›è¡Œè·¯ç”±ã€‚ä¸‹é¢æ˜¯å¦‚ä½•è·¯ç”±åˆ°å†…éƒ¨åŠŸèƒ½èœå•é¡µé¢çš„ä»£ç ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">router.route(to: <span class="type">URL</span>(string: <span class="string">&quot;<span class="subst">\(UniversalLinks.baseURL)</span>InternalMenu&quot;</span>), from: rootViewController, using: .present)</span><br></pre></td></tr></table></figure><p>è·¯ç”±çš„è¿‡ç¨‹ä¸­éœ€è¦ä¼ å…¥ä¸€ä¸ª URLï¼Œæº ViewController ä»¥åŠæ¢åœºçš„ç±»å‹ä¸‰ä¸ªå‚æ•°ã€‚</p><p>ä¸‹é¢æ˜¯è·¯ç”±åˆ° DesignKit èŒƒä¾‹é¡µé¢çš„å…·ä½“ä»£ç ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">router.route(to: <span class="type">URL</span>(string: <span class="string">&quot;<span class="subst">\(UniversalLinks.baseURL)</span>DesignKit?productName=DesignKit&amp;version=1.0.1&quot;</span>), from: routingSourceProvider(), using: .show)</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ <code>Query String</code> çš„æ–¹å¼æŠŠ <code>productName</code> å’Œ<code>version</code> å‚æ•°ä¼ é€’ç»™ç›®æ ‡ <code>ViewController</code>ã€‚</p><h3 id="Universal-Links-çš„è·¯ç”±"><a href="#Universal-Links-çš„è·¯ç”±" class="headerlink" title="Universal Links çš„è·¯ç”±"></a>Universal Links çš„è·¯ç”±</h3><p>æˆ‘ä»¬ä¹‹æ‰€ä»¥é€‰æ‹©åŸºäº URL çš„è·¯ç”±æ–¹æ¡ˆï¼Œå…¶ä¸­çš„ä¸€ä¸ªåŸå› æ˜¯å¯¹ Universal Links çš„æ”¯æŒã€‚å½“æˆ‘ä»¬çš„ App æ”¯æŒ Universal Links ä»¥åï¼Œä¸€æ—¦ç”¨æˆ·åœ¨ iOS è®¾å¤‡ä¸Šæ‰“å¼€ Universal Links æ‰€æ”¯æŒçš„ URL æ—¶ï¼Œå°±ä¼šè‡ªåŠ¨æ‰“å¼€æˆ‘ä»¬çš„ Appã€‚</p><p>æ ¹æ® App æ˜¯å¦æ”¯æŒ Scenes æ¥åŒºåˆ†ï¼Œç›®å‰åœ¨ UIKit é‡Œé¢æ”¯æŒ Universal Links æœ‰ä¸¤ç§æ–¹å¼ã€‚å¦‚æœ App è¿˜ä¸æ”¯æŒ Scenes çš„è¯ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ <code>AppDelegate</code> é‡Œé¢æ·»åŠ  Universal Links çš„æ”¯æŒçš„ä»£ç ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">application</span>(<span class="keyword">_</span> <span class="params">application</span>: <span class="type">UIApplication</span>,</span><br><span class="line">                 <span class="params">continue</span> <span class="params">userActivity</span>: <span class="type">NSUserActivity</span>,</span><br><span class="line">                 <span class="params">restorationHandler</span>: <span class="keyword">@escaping</span> ([<span class="type">UIUserActivityRestoring</span>]<span class="operator">?</span>) -&gt; <span class="type">Void</span>) -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">    <span class="keyword">guard</span> userActivity.activityType <span class="operator">==</span> <span class="type">NSUserActivityTypeBrowsingWeb</span>,</span><br><span class="line">        <span class="keyword">let</span> incomingURL <span class="operator">=</span> userActivity.webpageURL <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> router: <span class="type">AppRouting</span> <span class="operator">=</span> <span class="type">AppRouter</span>.shared</span><br><span class="line">    router.route(to: incomingURL, from: <span class="literal">nil</span>, using: .present)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬é¦–å…ˆæ£€æŸ¥ <code>userActivity.activityType</code> æ˜¯å¦ä¸º <code>NSUserActivityTypeBrowsingWeb</code> ï¼Œå¹¶æŠŠ URL å–å‡ºæ¥ã€‚å¦‚æœéªŒè¯éƒ½é€šè¿‡ï¼Œå°±å¯ä»¥è°ƒç”¨ <code>AppRoutingçš„route(to url: URL?, from routingSource: RoutingSource?, using transitionType: TransitionType)</code> æ–¹æ³•è¿›è¡Œè·¯ç”±ã€‚</p><p>åœ¨è°ƒç”¨ <code>route</code> æ–¹æ³•çš„æ—¶å€™ï¼Œæˆ‘ä»¬æŠŠ <code>nil</code> ä¼ é€’ç»™ <code>routingSource</code> å¹¶æŒ‡å®šæ¢åœºæ–¹å¼ä¸º <code>.present</code>ã€‚è¿™æ ·è·¯ç”±æ¨¡å—å°±ä¼šé€šè¿‡æ¨¡æ€çª—å£æŠŠç›®æ ‡ ViewController å‘ˆç°å‡ºæ¥ã€‚</p><p>å¦‚æœ App å·²ç»ä½¿ç”¨ Sceneï¼Œä¾‹å¦‚æˆ‘ä»¬çš„ Moments Appï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦ä¿®æ”¹ <code>SceneDelegateçš„scene(_ scene: UIScene, willConnectTo session: UISceneSession, options connectionOptions: UIScene.ConnectionOptions)</code> æ–¹æ³•æ¥æ”¯æŒ Universal Linksï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> userActivity <span class="operator">=</span> connectionOptions.userActivities.first,</span><br><span class="line">    userActivity.activityType <span class="operator">==</span> <span class="type">NSUserActivityTypeBrowsingWeb</span>,</span><br><span class="line">    <span class="keyword">let</span> incomingURL <span class="operator">=</span> userActivity.webpageURL &#123;</span><br><span class="line">    <span class="keyword">let</span> router: <span class="type">AppRouting</span> <span class="operator">=</span> <span class="type">AppRouter</span>.shared</span><br><span class="line">    router.route(to: incomingURL, from: <span class="literal">nil</span>, using: .present)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»ä»£ç å¯è§ï¼Œå½“æˆ‘ä»¬ä» <code>connectionOptions</code> å–å‡º <code>userActivity</code> ä»¥åï¼Œåé¢çš„å¤„ç†é€»è¾‘å’Œä¸Šé¢ <code>AppDelegate</code> çš„å®ç°æ–¹å¼ä¸€æ¨¡ä¸€æ ·ï¼Œåœ¨è¿™é‡Œæˆ‘å°±ä¸èµ˜è¿°äº†ã€‚</p><h3 id="è·¯ç”±çš„éªŒè¯"><a href="#è·¯ç”±çš„éªŒè¯" class="headerlink" title="è·¯ç”±çš„éªŒè¯"></a>è·¯ç”±çš„éªŒè¯</h3><p>å½“æˆ‘ä»¬çš„ App æ”¯æŒ Universal Links ä»¥åï¼Œæˆ‘ä»¬éœ€è¦åœ¨ Navigator é‡Œé¢å¢åŠ ä¸€äº›éªŒè¯çš„ä»£ç ï¼Œå¦åˆ™å¯èƒ½ä¼šå¼•èµ·å¤–éƒ¨ç³»ç»Ÿçš„æ”»å‡»ï¼Œä¾‹å¦‚ Moments App çš„å†…éƒ¨éšè—åŠŸèƒ½èœå•ä¸æƒ³ç»™ App Store ç”¨æˆ·ä½¿ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ <code>InternalMenuNavigator</code> é‡Œé¢æ·»åŠ ä»¥ä¸‹çš„éªŒè¯ä»£ç ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> togglesDataStore: <span class="type">TogglesDataStoreType</span> <span class="operator">=</span> <span class="type">BuildTargetTogglesDataStore</span>.shared</span><br><span class="line"><span class="keyword">guard</span> togglesDataStore.isToggleOn(<span class="type">BuildTargetToggle</span>.debug) <span class="operator">||</span> togglesDataStore.isToggleOn(<span class="type">BuildTargetToggle</span>.internal) <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ®µä»£ç ä¼šæ£€æŸ¥å½“å‰çš„ App æ˜¯å¦ä¸ºå¼€å‘ç¯å¢ƒæˆ–è€…æµ‹è¯•ç¯å¢ƒçš„ç‰ˆæœ¬ï¼Œå¦‚æœâ€œä¸æ˜¯â€ï¼Œè¯´æ˜å½“å‰çš„ App æ˜¯ App Store ç‰ˆæœ¬ï¼Œæˆ‘ä»¬å°±ç›´æ¥é€€å‡ºï¼Œä¸å…è®¸æ‰“å¼€å†…éƒ¨åŠŸèƒ½èœå•ã€‚</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>åœ¨è¿™ä¸€è®²ä¸­æˆ‘ä»‹ç»äº†ä¸€ä¸ªåŸºäº URL çš„é€šç”¨è·¯ç”±æ–¹æ¡ˆçš„å®ç°æ–¹å¼ï¼Œæœ‰äº†è¿™ä¸ªè·¯ç”±æ–¹æ¡ˆï¼Œä¸ä½†å¯ä»¥å¸®åŠ©æ‰€æœ‰åŠŸèƒ½æ¨¡å—çš„è§£è€¦ï¼Œè€Œä¸”èƒ½å¾ˆæ–¹ä¾¿åœ°æ”¯æŒ Universal Linksã€‚</p><p>å½“æˆ‘ä»¬çš„ App æ”¯æŒ Universal Links ä»¥åï¼Œéœ€è¦ç‰¹åˆ«æ³¨æ„å¯¹è·¯ç”±çš„ URL è¿›è¡ŒéªŒè¯ï¼Œå¦åˆ™ä¼šå¾ˆå®¹æ˜“è¢«å¤–éƒ¨ç³»ç»Ÿè¿›è¡Œæ”»å‡»ã€‚è¿™äº›éªŒè¯çš„æ‰‹æ®µåŒ…æ‹¬ä¸åº”è¯¥å…è®¸ Universal Links æ›´æ–°æˆ–è€…åˆ é™¤æ•°æ®ï¼Œä¸å…è®¸ Universal Links è®¿é—®ä»»ä½•æ•æ„Ÿæ•°æ®ã€‚</p><h1 id="å­¦ä¹ ç¬”è®°ä¸æ‰©å±•"><a href="#å­¦ä¹ ç¬”è®°ä¸æ‰©å±•" class="headerlink" title="å­¦ä¹ ç¬”è®°ä¸æ‰©å±•"></a>å­¦ä¹ ç¬”è®°ä¸æ‰©å±•</h1><h2 id="ä»€ä¹ˆæ˜¯-Universal-Link-é€šç”¨é“¾æ¥"><a href="#ä»€ä¹ˆæ˜¯-Universal-Link-é€šç”¨é“¾æ¥" class="headerlink" title="ä»€ä¹ˆæ˜¯ Universal Link (é€šç”¨é“¾æ¥)"></a>ä»€ä¹ˆæ˜¯ <code>Universal Link</code> (é€šç”¨é“¾æ¥)</h2><p><code>Universal Link</code> (é€šç”¨é“¾æ¥)æ˜¯ Apple åœ¨ iOS9 æ¨å‡ºçš„ä¸€ç§èƒ½å¤Ÿæ–¹ä¾¿çš„é€šè¿‡ä¼ ç»Ÿ HTTPS é“¾æ¥æ¥å¯åŠ¨ APP çš„åŠŸèƒ½ï¼Œå¯ä»¥ä½¿ç”¨ç›¸åŒçš„ç½‘å€æ‰“å¼€ç½‘å€å’Œ APP ã€‚å½“ä½ çš„åº”ç”¨æ”¯æŒ <code>Universal Link</code> (é€šç”¨é“¾æ¥)ï¼Œå½“ç”¨æˆ·ç‚¹å‡»ä¸€ä¸ªé“¾æ¥æ˜¯å¯ä»¥è·³è½¬åˆ°ä½ çš„ç½‘ç«™å¹¶è·å¾—æ— ç¼é‡å®šå‘åˆ°å¯¹åº”çš„ APPï¼Œä¸”ä¸éœ€è¦é€šè¿‡ Safari æµè§ˆå™¨ã€‚å¦‚æœä½ çš„åº”ç”¨ä¸æ”¯æŒçš„è¯ï¼Œåˆ™ä¼šåœ¨ Safari ä¸­æ‰“å¼€è¯¥é“¾æ¥ã€‚åœ¨è‹¹æœå¼€å‘è€…ä¸­å¯ä»¥çœ‹åˆ°å¯¹å®ƒçš„ä»‹ç»æ˜¯ï¼š</p><blockquote><p>Seamlessly link to content inside your app, or on your website in iOS 9 or later. With universal links, you can always give users the most integrated mobile experience, even when your app isnâ€™t installed on their device.</p></blockquote><h2 id="å¦‚ä½•ç†è§£-Universal-Link-é€šç”¨é“¾æ¥"><a href="#å¦‚ä½•ç†è§£-Universal-Link-é€šç”¨é“¾æ¥" class="headerlink" title="å¦‚ä½•ç†è§£ Universal Link (é€šç”¨é“¾æ¥)"></a>å¦‚ä½•ç†è§£ <code>Universal Link</code> (é€šç”¨é“¾æ¥)</h2><p><code>Universal Link</code> (é€šç”¨é“¾æ¥)ï¼šçœ‹èµ·æ¥å°±æ˜¯ä¸€æ¡æ™®é€šçš„ https é“¾æ¥ï¼Œå½“ç„¶æ˜¯æˆ‘ä»¬åœ¨è¯¥é“¾æ¥åŸŸåæ ¹ç›®å½•é…ç½®è¿‡çš„ä¸€ä¸ªé“¾æ¥ï¼Œä¹Ÿå¯ä»¥åœ¨è¯¥é“¾æ¥ä¸­æ”¾ç½®å¯¹åº”çš„ H5 é¡µé¢ã€‚å½“ç”¨æˆ·çš„ç‚¹å‡»è¯¥é“¾æ¥ï¼Œåªè¦æ‰‹æœºä¸­å®‰è£…äº†æ”¯æŒè¯¥é“¾æ¥çš„ APP å°±ä¼šç›´æ¥è¿›å…¥åˆ° APP ä¸­ã€‚å¦‚æœæ²¡æœ‰å®‰è£…APPåˆ™ä¼šè·³è½¬åˆ° Safari æµè§ˆå™¨ä¸­ï¼Œå±•ç¤º H5 é¡µé¢ã€‚å¯¹ç”¨æˆ·æ¥è¯´åˆ™æ˜¯ä¸€ä¸ªæ— ç¼è·³è½¬çš„è¿‡ç¨‹ã€‚</p><h2 id="Universal-Link-é€šç”¨é“¾æ¥-çš„åº”ç”¨åœºæ™¯"><a href="#Universal-Link-é€šç”¨é“¾æ¥-çš„åº”ç”¨åœºæ™¯" class="headerlink" title="Universal Link (é€šç”¨é“¾æ¥) çš„åº”ç”¨åœºæ™¯"></a><code>Universal Link</code> (é€šç”¨é“¾æ¥) çš„åº”ç”¨åœºæ™¯</h2><p>ä½¿ç”¨ <code>Universal Link</code> (é€šç”¨é“¾æ¥)å¯ä»¥è®©ç”¨æˆ·åœ¨ Safari æµè§ˆå™¨æˆ–è€…å…¶ä»– APP çš„ webview ä¸­æ‹‰èµ·ç›¸åº”çš„ APPï¼Œä¹Ÿå¯ä»¥åœ¨ APP ä¸­ä½¿ç”¨ç›¸åº”çš„åŠŸèƒ½ï¼Œä»è€Œæ¥æŠŠç”¨æˆ·å¼•æµåˆ° APP ä¸­ã€‚æ¯”å¦‚æ·˜å®å½“åœ¨ Safari æµè§ˆå™¨ä¸­è¿›å…¥æ·˜å®ç½‘é¡µç‚¹å‡»æ‰“å¼€ APP åˆ™ä¼šä½¿ç”¨ Universal Link (é€šç”¨é“¾æ¥)æ¥æ‹‰èµ·æ·˜å® APP ã€‚</p><h2 id="ä½¿ç”¨-Universal-Link-é€šç”¨é“¾æ¥-è·³è½¬çš„å¥½å¤„"><a href="#ä½¿ç”¨-Universal-Link-é€šç”¨é“¾æ¥-è·³è½¬çš„å¥½å¤„" class="headerlink" title="ä½¿ç”¨ Universal Link (é€šç”¨é“¾æ¥) è·³è½¬çš„å¥½å¤„"></a>ä½¿ç”¨ <code>Universal Link</code> (é€šç”¨é“¾æ¥) è·³è½¬çš„å¥½å¤„</h2><ul><li><p><strong>å”¯ä¸€æ€§</strong>: ä¸åƒè‡ªå®šä¹‰çš„ <code>URL Scheme</code>ï¼Œå› ä¸ºå®ƒä½¿ç”¨æ ‡å‡†çš„ HTTPS åè®®é“¾æ¥åˆ°ä½ çš„ web ç«™ç‚¹ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¸ä¼šè¢«å…¶å®ƒçš„ APP æ‰€å£°æ˜ã€‚å¦å¤–ï¼Œ URL scheme å› ä¸ºæ˜¯è‡ªå®šä¹‰çš„åè®®ï¼Œæ‰€ä»¥åœ¨æ²¡æœ‰å®‰è£… app çš„æƒ…å†µä¸‹æ˜¯æ— æ³•ç›´æ¥æ‰“å¼€çš„(åœ¨ Safari ä¸­è¿˜ä¼šå‡ºç°ä¸€ä¸ªä¸å¯æ‰“å¼€çš„å¼¹çª—)ï¼Œè€Œ Universal Link (é€šç”¨é“¾æ¥)æœ¬èº«æ˜¯ä¸€ä¸ª HTTPS é“¾æ¥ï¼Œæ‰€ä»¥æœ‰æ›´å¥½çš„å…¼å®¹æ€§ï¼›</p></li><li><p><strong>å®‰å…¨</strong>: å½“ç”¨æˆ·çš„æ‰‹æœºä¸Šå®‰è£…äº†ä½ çš„ APPï¼Œé‚£ä¹ˆç³»ç»Ÿä¼šå»ä½ é…ç½®çš„ç½‘ç«™ä¸Šå»ä¸‹è½½ä½ ä¸Šä¼ ä¸Šå»çš„è¯´æ˜æ–‡ä»¶(è¿™ä¸ªè¯´æ˜æ–‡ä»¶å£°æ˜äº†å½“å‰è¯¥ HTTPS é“¾æ¥å¯ä»¥æ‰“å¼€é‚£äº› APP )ã€‚å› ä¸ºåªæœ‰ä½ è‡ªå·±æ‰èƒ½ä¸Šä¼ æ–‡ä»¶åˆ°ä½ ç½‘ç«™çš„æ ¹ç›®å½•ï¼Œæ‰€ä»¥ä½ çš„ç½‘ç«™å’Œä½ çš„ APP ä¹‹é—´çš„å…³è”æ˜¯å®‰å…¨çš„ï¼›</p></li><li><p><strong>å¯å˜</strong>: å½“ç”¨æˆ·æ‰‹æœºä¸Šæ²¡æœ‰å®‰è£…ä½ çš„ APP çš„æ—¶å€™ï¼ŒUniversal Link (é€šç”¨é“¾æ¥)ä¹Ÿèƒ½å¤Ÿå·¥ä½œã€‚å¦‚æœä½ æ„¿æ„ï¼Œåœ¨æ²¡æœ‰å®‰è£…ä½ çš„ app çš„æ—¶å€™ï¼Œç”¨æˆ·ç‚¹å‡»é“¾æ¥ï¼Œä¼šåœ¨ safari ä¸­å±•ç¤ºä½ ç½‘ç«™çš„å†…å®¹ï¼›</p></li><li><p><strong>ç®€å•</strong>: ä¸€ä¸ª HTTPS çš„é“¾æ¥ï¼Œå¯ä»¥åŒæ—¶ä½œç”¨äºç½‘ç«™å’Œ APPï¼›</p></li><li><p><strong>ç§æœ‰</strong>: å…¶å®ƒ APP å¯ä»¥åœ¨ä¸éœ€è¦çŸ¥é“ä½ çš„ APP æ˜¯å¦å®‰è£…äº†çš„æƒ…å†µä¸‹å’Œä½ çš„ APP ç›¸äº’é€šä¿¡ã€‚</p></li></ul><h2 id="æ”¯æŒ-Universal-Link-é€šç”¨é“¾æ¥"><a href="#æ”¯æŒ-Universal-Link-é€šç”¨é“¾æ¥" class="headerlink" title="æ”¯æŒ Universal Link (é€šç”¨é“¾æ¥)"></a>æ”¯æŒ <code>Universal Link</code> (é€šç”¨é“¾æ¥)</h2><ol><li><p>å…ˆå†³æ¡ä»¶: å¿…é¡»æœ‰ä¸€ä¸ªæ”¯æŒHTTPSçš„åŸŸåï¼Œå¹¶ä¸”æ‹¥æœ‰è¯¥åŸŸåä¸‹çš„ä¸Šä¼ åˆ°æ ¹ç›®å½•çš„æƒé™ï¼ˆä¸ºäº†ä¸Šä¼ AppleæŒ‡å®šæ–‡ä»¶ï¼‰ã€‚</p></li><li><p>å¼€å‘è€…ä¸­å¿ƒé…ç½®ï¼šæ‰¾åˆ°å¯¹åº”çš„ App IDï¼Œåœ¨ Application Services åˆ—è¡¨é‡Œæœ‰ Associated Domains ä¸€æ¡ï¼ŒæŠŠå®ƒå˜ä¸º Enabled å°±å¯ä»¥äº†ã€‚</p></li></ol><p><img data-src="https://raw.githubusercontent.com/fengyanxin/YXBlogPic/main/17429010367164.jpg"></p><ol start="3"><li>å·¥ç¨‹é…ç½®ï¼štargets -&gt; Signing&amp;Capabilites -&gt; Capability -&gt; Associated Domainsï¼Œåœ¨å…¶ä¸­çš„ Domains ä¸­å¡«å…¥ä½ æƒ³æ”¯æŒçš„åŸŸåï¼Œä¹Ÿå¿…é¡»å¿…é¡»ä»¥ applinks: ä¸ºå‰ç¼€ã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹å›¾:</li></ol><p><img data-src="https://raw.githubusercontent.com/fengyanxin/YXBlogPic/main/17429011467875.jpg"></p><p><img data-src="https://raw.githubusercontent.com/fengyanxin/YXBlogPic/main/17429011785829.jpg"></p><p><img data-src="https://raw.githubusercontent.com/fengyanxin/YXBlogPic/main/17429012218515.jpg"></p><ol start="4"><li>é…ç½®æŒ‡å®šæ–‡ä»¶ï¼šåˆ›å»ºä¸€ä¸ªå†…å®¹ä¸º json æ ¼å¼çš„æ–‡ä»¶ï¼Œè‹¹æœå°†ä¼šåœ¨åˆé€‚çš„æ—¶å€™ï¼Œä»æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­å¡«å…¥çš„åŸŸåè¯·æ±‚è¿™ä¸ªæ–‡ä»¶ã€‚è¿™ä¸ªæ–‡ä»¶åå¿…é¡»ä¸º apple-app-site-associationï¼Œåˆ‡è®°æ²¡æœ‰åç¼€åï¼Œæ–‡ä»¶å†…å®¹å¤§æ¦‚æ˜¯è¿™æ ·å­ï¼š</li></ol><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;applinks&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;apps&quot;</span>: [],</span><br><span class="line">        <span class="string">&quot;details&quot;</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="string">&quot;appID&quot;</span>: <span class="string">&quot;9JA89QQLNQ.com.apple.wwdc&quot;</span>,</span><br><span class="line">                <span class="string">&quot;paths&quot;</span>: [ <span class="string">&quot;/wwdc/news/&quot;</span>, <span class="string">&quot;/videos/wwdc/2015/*&quot;</span>]</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="string">&quot;appID&quot;</span>: <span class="string">&quot;ABCD1234.com.apple.wwdc&quot;</span>,</span><br><span class="line">                <span class="string">&quot;paths&quot;</span>: [ <span class="string">&quot;*&quot;</span> ]</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>appIDï¼šç»„æˆæ–¹å¼æ˜¯ teamId.yourappâ€™s bundle identifierã€‚å¦‚ä¸Šé¢çš„ 9JA89QQLNQ å°±æ˜¯ teamIdã€‚ç™»é™†å¼€å‘è€…ä¸­å¿ƒï¼Œåœ¨ Account -&gt; Membership é‡Œé¢å¯ä»¥æ‰¾åˆ° Team IDã€‚</p><p>pathsï¼šè®¾å®šä½ çš„appæ”¯æŒçš„è·¯å¾„åˆ—è¡¨ï¼Œåªæœ‰è¿™äº›æŒ‡å®šçš„è·¯å¾„çš„é“¾æ¥ï¼Œæ‰èƒ½è¢« app æ‰€å¤„ç†ã€‚æ˜Ÿå·çš„å†™æ³•ä»£è¡¨äº†å¯è¯† åˆ«åŸŸåä¸‹æ‰€æœ‰é“¾æ¥ã€‚</p><ol start="5"><li>ä¸Šä¼ æŒ‡å®šæ–‡ä»¶: ä¸Šä¼ è¯¥æ–‡ä»¶åˆ°ä½ çš„åŸŸåæ‰€å¯¹åº”çš„æ ¹ç›®å½•æˆ–è€… <code>.well-known</code> ç›®å½•ä¸‹ï¼Œè¿™æ˜¯ä¸ºäº†è‹¹æœèƒ½è·å–åˆ°ä½ ä¸Šä¼ çš„æ–‡ä»¶ã€‚ä¸Šä¼ å®Œå,è‡ªå·±å…ˆè®¿é—®ä¸€ä¸‹,çœ‹çœ‹æ˜¯å¦èƒ½å¤Ÿè·å–åˆ°ï¼Œå½“ä½ åœ¨æµè§ˆå™¨ä¸­è¾“å…¥è¿™ä¸ªæ–‡ä»¶é“¾æ¥åï¼Œåº”è¯¥æ˜¯ç›´æ¥ä¸‹è½½ <code>apple-app-site-association</code> æ–‡ä»¶ã€‚</li></ol><h2 id="Universal-Link-é€šç”¨é“¾æ¥-ç›¸å…³éªŒè¯"><a href="#Universal-Link-é€šç”¨é“¾æ¥-ç›¸å…³éªŒè¯" class="headerlink" title="Universal Link (é€šç”¨é“¾æ¥) ç›¸å…³éªŒè¯"></a><code>Universal Link</code> (é€šç”¨é“¾æ¥) ç›¸å…³éªŒè¯</h2><p>åœ¨ iOS è®¾å¤‡ä¸­çš„å¤‡å¿˜å½•ä¸­è¾“å…¥ APP èƒ½è¯†åˆ«çš„é“¾æ¥ï¼Œç„¶åç›´æ¥ç‚¹å‡»æ­¤é“¾æ¥ï¼Œå°±ä¼šç›´æ¥è·³è½¬åˆ°ä½ çš„ app äº†ã€‚æˆ–æ˜¯é•¿æŒ‰ï¼Œåœ¨å‡ºç°çš„å¼¹å‡ºèœå•ä¸­ç¬¬äºŒé¡¹æ˜¯åœ¨ â€™XXXâ€™ ä¸­æ‰“å¼€ï¼Œè¿™ä¹Ÿä»£è¡¨ç€æˆåŠŸï¼š</p><p><img data-src="https://raw.githubusercontent.com/fengyanxin/YXBlogPic/main/17429014557173.jpg"></p><p>æˆ–æ˜¯ä½ å°†è¦æµ‹è¯•çš„ç½‘å€åœ¨ <code>Safari</code> ä¸­æ‰“å¼€ï¼Œåœ¨å‡ºç°çš„ç½‘é¡µä¸Šæ–¹ä¸‹æ»‘ï¼Œå¯ä»¥çœ‹åˆ°æœ‰åœ¨ â€XXâ€ åº”ç”¨ä¸­æ‰“å¼€ï¼š</p><p><img data-src="https://raw.githubusercontent.com/fengyanxin/YXBlogPic/main/17429014963985.jpg"></p><p>å½“ç‚¹å‡»æŸä¸ªé“¾æ¥ï¼Œç›´æ¥å¯ä»¥è¿›æˆ‘ä»¬çš„ app äº†ï¼Œä½†æ˜¯æˆ‘ä»¬çš„ç›®çš„æ˜¯è¦èƒ½å¤Ÿè·å–åˆ°ç”¨æˆ·è¿›æ¥çš„é“¾æ¥ï¼Œæ ¹æ®é“¾æ¥æ¥å±•ç¤ºç»™ç”¨æˆ·ç›¸åº”çš„å†…å®¹ã€‚</p><p>æˆ‘ä»¬éœ€è¦åœ¨å·¥ç¨‹é‡Œçš„å®ç° <code>AppDelegate</code> é‡Œå¯¹åº”çš„æ–¹æ³•ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">-</span> (<span class="type">BOOL</span>)application:(<span class="type">UIApplication</span> <span class="operator">*</span>)application continueUserActivity:(<span class="type">NSUserActivity</span> <span class="operator">*</span>)userActivity restorationHandler:(void (<span class="operator">^</span>)(<span class="type">NSArray</span> <span class="operator">*</span> _Nullable))restorationHandler &#123;</span><br><span class="line">    <span class="keyword">if</span> ([userActivity.activityType isEqualToString:<span class="type">NSUserActivityTypeBrowsingWeb</span>])</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">NSURL</span> <span class="operator">*</span>url <span class="operator">=</span> userActivity.webpageURL;</span><br><span class="line">        <span class="keyword">if</span> (urlæ˜¯æˆ‘ä»¬å¸Œæœ›å¤„ç†çš„)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//è¿›è¡Œæˆ‘ä»¬çš„å¤„ç†</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            [[<span class="type">UIApplication</span> sharedApplication] openURL:url];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">return</span> <span class="type">YES</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è‹¹æœä¸ºäº†æ–¹ä¾¿å¼€å‘è€…ï¼Œæä¾›äº†ä¸€ä¸ªç½‘é¡µæ¥éªŒè¯æˆ‘ä»¬ç¼–å†™çš„è¿™ä¸ª <code>apple-app-site-association</code> æ˜¯å¦åˆæ³•æœ‰æ•ˆï¼Œè¿›å…¥éªŒè¯ç½‘å€è¿›è¡ŒéªŒè¯ï¼š</p><p><img data-src="https://raw.githubusercontent.com/fengyanxin/YXBlogPic/main/17429015814736.jpg"></p><h2 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h2><p>å‰ç«¯å¼€å‘ç»å¸¸é¢ä¸´è·¨åŸŸé—®é¢˜ï¼Œå¿…é¡»è¦æ±‚è·¨åŸŸï¼Œå¦‚æœä¸è·¨åŸŸï¼Œå°±ä¸è¡Œã€‚</p><p>åªæœ‰å½“å‰ webview çš„ URL åŸŸåï¼Œä¸è·³è½¬ç›®æ ‡ URL åŸŸåä¸ä¸€è‡´æ—¶ï¼Œ<code>Universal Link</code> (é€šç”¨é“¾æ¥) æ‰ç”Ÿæ•ˆã€‚</p></div><div><div><div style="text-align:center;color:#ccc;font-size:14px">-------------<i class="fa fa-paw"></i> That's allï¼Best wishes for you !!!<i class="fa fa-paw"></i> -------------</div></div></div><div class="post-widgets"><div class="likely"><div class="twitter">Tweet</div><div class="facebook">Share</div><div class="linkedin">Link</div><div class="gplus">Plus</div><div class="vkontakte">Share</div><div class="odnoklassniki">Class</div><div class="telegram">Send</div><div class="whatsapp">Send</div><div class="pinterest">Pin</div></div></div><script src="//cdn.jsdelivr.net/npm/ilyabirman-likely@2/release/likely.min.js"></script><div class="post-widgets"><div id="needsharebutton-postbottom"><span class="btn"><i class="fa fa-share-alt" aria-hidden="true"></i></span></div></div><div><ul class="post-copyright"><li class="post-copyright-author"> <strong>æœ¬æ–‡ä½œè€…ï¼š</strong> å‡¤ç‚å¿»</li><li class="post-copyright-link"> <strong>æœ¬æ–‡é“¾æ¥ï¼š</strong> <a href="https://fengyanxin.github.io/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/11%EF%BD%9C%E5%8A%9F%E8%83%BD%E7%BB%84%E4%BB%B6%EF%BC%9A%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%E8%B7%AF%E7%94%B1%EF%BC%8C%E6%94%AF%E6%8C%81%E5%A4%9A%E9%A1%B5%E9%9D%A2%E5%AF%BC%E8%88%AA%EF%BC%9F/" title="ã€iOSè¿›é˜¶ã€‘11 | åŠŸèƒ½ç»„ä»¶ï¼šå¦‚ä½•ä½¿ç”¨è·¯ç”±ï¼Œæ”¯æŒå¤šé¡µé¢å¯¼èˆªï¼Ÿ">https://fengyanxin.github.io/å­¦ä¹ ç¬”è®°/11ï½œåŠŸèƒ½ç»„ä»¶ï¼šå¦‚ä½•ä½¿ç”¨è·¯ç”±ï¼Œæ”¯æŒå¤šé¡µé¢å¯¼èˆªï¼Ÿ/</a></li><li class="post-copyright-license"> <strong>ç‰ˆæƒå£°æ˜ï¼š</strong> æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i> BY-NC-SA</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</li></ul></div><div class="followme"><p>æ¬¢è¿å…³æ³¨æˆ‘çš„å…¶å®ƒå‘å¸ƒæ¸ é“</p><div class="social-list"><div class="social-item"><a target="_blank" class="social-link" href="https://github.com/fengyanxin"><span class="icon"><i class="fab fa-github"></i></span> <span class="label">GitHub</span></a></div><div class="social-item"><a target="_blank" class="social-link" href="https://www.zhihu.com/people/peng-he-34-93"><span class="icon"><i class="fab fa-zhihu"></i></span> <span class="label">çŸ¥ä¹</span></a></div><div class="social-item"><a target="_blank" class="social-link" href="https://profile.zjurl.cn/rogue/ugc/profile/?user_id=51893718065"><span class="icon"><i class="fa fa-toutiao"></i></span> <span class="label">ä»Šæ—¥å¤´æ¡</span></a></div><div class="social-item"><a target="_blank" class="social-link" href="https://author.baidu.com/home?from=bjh_article&app_id=1665765419554477"><span class="icon"><i class="fa fa-baidu1"></i></span> <span class="label">ç™¾å®¶å·</span></a></div><div class="social-item"><a target="_blank" class="social-link" href="https://www.xiaohongshu.com/user/profile/642cb9650000000011023394"><span class="icon"><i class="fab fa-xiaohongshu1"></i></span> <span class="label">å°çº¢ä¹¦</span></a></div><div class="social-item"><a target="_blank" class="social-link" href="https://www.liblib.art/userpage/c7816525373d4fbca7e45c1940ead98e"><span class="icon"><i class="fab fa-liblib1"></i></span> <span class="label">LibLib</span></a></div><div class="social-item"><a target="_blank" class="social-link" href="/atom.xml"><span class="icon"><i class="fa fa-rss"></i></span> <span class="label">RSS</span></a></div></div></div><footer class="post-footer"><div class="post-tags"><a href="/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" rel="tag"><i class="fa fa-tag"></i> å­¦ä¹ ç¬”è®°</a><a href="/tags/iOS/" rel="tag"><i class="fa fa-tag"></i> iOS</a></div><div class="post-nav"><div class="post-nav-item"><a href="/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/10%EF%BD%9C%E6%94%AF%E6%92%91%E7%BB%84%E4%BB%B6%EF%BC%9A%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E9%9A%90%E8%97%8F%E8%8F%9C%E5%8D%95%EF%BC%8C%E5%BF%AB%E9%80%9F%E6%B5%8B%E8%AF%95%E4%B8%8E%E9%AA%8C%E8%AF%81%EF%BC%9F/" rel="prev" title="ã€iOSè¿›é˜¶ã€‘10 | æ”¯æ’‘ç»„ä»¶ï¼šå¦‚ä½•å®ç°éšè—èœå•ï¼Œå¿«é€Ÿæµ‹è¯•ä¸éªŒè¯ï¼Ÿ"><i class="fa fa-chevron-left"></i> ã€iOSè¿›é˜¶ã€‘10 | æ”¯æ’‘ç»„ä»¶ï¼šå¦‚ä½•å®ç°éšè—èœå•ï¼Œå¿«é€Ÿæµ‹è¯•ä¸éªŒè¯ï¼Ÿ</a></div><div class="post-nav-item"> <a href="/iOS/%E3%80%90OC%E3%80%91%E5%9C%A8-OC-%E4%B8%AD%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%9E%9A%E4%B8%BE%EF%BC%9F/" rel="next" title="ã€OCã€‘åœ¨ OC ä¸­å¦‚ä½•å®ç°å­—ç¬¦ä¸²æšä¸¾ï¼Ÿ">ã€OCã€‘åœ¨ OC ä¸­å¦‚ä½•å®ç°å­—ç¬¦ä¸²æšä¸¾ï¼Ÿ<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments" id="valine-comments"></div><script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc"> æ–‡ç« ç›®å½•</li><li class="sidebar-nav-overview"> ç«™ç‚¹æ¦‚è§ˆ</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%E8%B7%AF%E7%94%B1%EF%BC%8C%E6%94%AF%E6%8C%81%E5%A4%9A%E9%A1%B5%E9%9D%A2%E5%AF%BC%E8%88%AA%EF%BC%9F"><span class="nav-number">1.</span> <span class="nav-text">å¦‚ä½•ä½¿ç”¨è·¯ç”±ï¼Œæ”¯æŒå¤šé¡µé¢å¯¼èˆªï¼Ÿ</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%B7%AF%E7%94%B1%E6%96%B9%E6%A1%88%E7%9A%84%E6%9E%B6%E6%9E%84%E4%B8%8E%E5%AE%9E%E7%8E%B0"><span class="nav-number">1.1.</span> <span class="nav-text">è·¯ç”±æ–¹æ¡ˆçš„æ¶æ„ä¸å®ç°</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%B7%AF%E7%94%B1%E6%A8%A1%E5%9D%97"><span class="nav-number">1.2.</span> <span class="nav-text">è·¯ç”±æ¨¡å—</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#AppRouting-%E5%92%8C-AppRouter"><span class="nav-number">1.2.1.</span> <span class="nav-text">AppRouting å’Œ AppRouter</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Navigating-%E5%8D%8F%E8%AE%AE"><span class="nav-number">1.2.2.</span> <span class="nav-text">Navigating åè®®</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AF%BC%E8%88%AA%E7%BB%84%E4%BB%B6"><span class="nav-number">1.3.</span> <span class="nav-text">å¯¼èˆªç»„ä»¶</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#InternalMenuNavigator"><span class="nav-number">1.3.1.</span> <span class="nav-text">InternalMenuNavigator</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DesignKitDemoNavigator"><span class="nav-number">1.3.2.</span> <span class="nav-text">DesignKitDemoNavigator</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%B7%AF%E7%94%B1%E6%96%B9%E6%A1%88%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="nav-number">1.4.</span> <span class="nav-text">è·¯ç”±æ–¹æ¡ˆçš„ä½¿ç”¨</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B7%AF%E7%94%B1%E7%9A%84%E6%B3%A8%E5%86%8C%E4%B8%8E%E8%B0%83%E7%94%A8"><span class="nav-number">1.4.1.</span> <span class="nav-text">è·¯ç”±çš„æ³¨å†Œä¸è°ƒç”¨</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Universal-Links-%E7%9A%84%E8%B7%AF%E7%94%B1"><span class="nav-number">1.4.2.</span> <span class="nav-text">Universal Links çš„è·¯ç”±</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B7%AF%E7%94%B1%E7%9A%84%E9%AA%8C%E8%AF%81"><span class="nav-number">1.4.3.</span> <span class="nav-text">è·¯ç”±çš„éªŒè¯</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%80%BB%E7%BB%93"><span class="nav-number">1.5.</span> <span class="nav-text">æ€»ç»“</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%8E%E6%89%A9%E5%B1%95"><span class="nav-number">2.</span> <span class="nav-text">å­¦ä¹ ç¬”è®°ä¸æ‰©å±•</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-Universal-Link-%E9%80%9A%E7%94%A8%E9%93%BE%E6%8E%A5"><span class="nav-number">2.1.</span> <span class="nav-text">ä»€ä¹ˆæ˜¯ Universal Link (é€šç”¨é“¾æ¥)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3-Universal-Link-%E9%80%9A%E7%94%A8%E9%93%BE%E6%8E%A5"><span class="nav-number">2.2.</span> <span class="nav-text">å¦‚ä½•ç†è§£ Universal Link (é€šç”¨é“¾æ¥)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Universal-Link-%E9%80%9A%E7%94%A8%E9%93%BE%E6%8E%A5-%E7%9A%84%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="nav-number">2.3.</span> <span class="nav-text">Universal Link (é€šç”¨é“¾æ¥) çš„åº”ç”¨åœºæ™¯</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-Universal-Link-%E9%80%9A%E7%94%A8%E9%93%BE%E6%8E%A5-%E8%B7%B3%E8%BD%AC%E7%9A%84%E5%A5%BD%E5%A4%84"><span class="nav-number">2.4.</span> <span class="nav-text">ä½¿ç”¨ Universal Link (é€šç”¨é“¾æ¥) è·³è½¬çš„å¥½å¤„</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%94%AF%E6%8C%81-Universal-Link-%E9%80%9A%E7%94%A8%E9%93%BE%E6%8E%A5"><span class="nav-number">2.5.</span> <span class="nav-text">æ”¯æŒ Universal Link (é€šç”¨é“¾æ¥)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Universal-Link-%E9%80%9A%E7%94%A8%E9%93%BE%E6%8E%A5-%E7%9B%B8%E5%85%B3%E9%AA%8C%E8%AF%81"><span class="nav-number">2.6.</span> <span class="nav-text">Universal Link (é€šç”¨é“¾æ¥) ç›¸å…³éªŒè¯</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B3%A8%E6%84%8F"><span class="nav-number">2.7.</span> <span class="nav-text">æ³¨æ„</span></a></li></ol></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="å‡¤ç‚å¿»" src="/images/flyingPig.jpeg"><p class="site-author-name" itemprop="name">å‡¤ç‚å¿»</p><div class="site-description" itemprop="description">æ€§æµ®è„±ï¼Œéš¾é…¬ä¸€é“ï¼Œå¹¿æ¶‰å¯¡ç²¾ï¼Œæ‚è€Œä¸åš</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">39</span> <span class="site-state-item-name">æ—¥å¿—</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">7</span> <span class="site-state-item-name">åˆ†ç±»</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">9</span> <span class="site-state-item-name">æ ‡ç­¾</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/fengyanxin" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;fengyanxin" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i> GitHub</a></span><span class="links-of-author-item"><a href="mailto:ph18317192001@163.com" title="E-Mail â†’ mailto:ph18317192001@163.com" rel="noopener" target="_blank"><i class="fab fa-mail fa-fw"></i> E-Mail</a></span><span class="links-of-author-item"><a href="https://profile.zjurl.cn/rogue/ugc/profile/?user_id=51893718065" title="ä»Šæ—¥å¤´æ¡ â†’ https:&#x2F;&#x2F;profile.zjurl.cn&#x2F;rogue&#x2F;ugc&#x2F;profile&#x2F;?user_id&#x3D;51893718065" rel="noopener" target="_blank"><i class="fab fa-jinritoutiao fa-fw"></i> ä»Šæ—¥å¤´æ¡</a></span><span class="links-of-author-item"><a href="https://author.baidu.com/home?from=bjh_article&app_id=1665765419554477" title="ç™¾å®¶å· â†’ https:&#x2F;&#x2F;author.baidu.com&#x2F;home?from&#x3D;bjh_article&amp;app_id&#x3D;1665765419554477" rel="noopener" target="_blank"><i class="fab fa-baidu fa-fw"></i> ç™¾å®¶å·</a></span><span class="links-of-author-item"><a href="https://www.xiaohongshu.com/user/profile/642cb9650000000011023394" title="å°çº¢ä¹¦ â†’ https:&#x2F;&#x2F;www.xiaohongshu.com&#x2F;user&#x2F;profile&#x2F;642cb9650000000011023394" rel="noopener" target="_blank"><i class="fab fa-xiaohongshu fa-fw"></i> å°çº¢ä¹¦</a></span><span class="links-of-author-item"><a href="https://www.liblib.art/userpage/c7816525373d4fbca7e45c1940ead98e" title="LibLib â†’ https:&#x2F;&#x2F;www.liblib.art&#x2F;userpage&#x2F;c7816525373d4fbca7e45c1940ead98e" rel="noopener" target="_blank"><i class="fab fa-liblib fa-fw"></i> LibLib</a></span></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; 2020 â€“ <span itemprop="copyrightYear">2025</span><span class="with-love"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder">å‡¤ç‚å¿»</span> <span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-chart-area"></i></span> <span class="post-meta-item-text">ç«™ç‚¹æ€»å­—æ•°ï¼š</span> <span title="ç«™ç‚¹æ€»å­—æ•°">87k</span> <span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-coffee"></i></span> <span class="post-meta-item-text">ç«™ç‚¹é˜…è¯»æ—¶é•¿ &asymp;</span> <span title="ç«™ç‚¹é˜…è¯»æ—¶é•¿">5:15</span></div><div class="addthis_inline_share_toolbox"><script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-64097eaa671e32e2" async="async"></script></div></div></footer></div><script color="255,255,255" opacity="0.95" zindex="-1" count="150" src="/lib/canvas-nest/canvas-nest.min.js"></script><script src="/lib/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script><script src="//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script><script src="//cdn.jsdelivr.net/npm/pangu@4/dist/browser/pangu.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script><script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script><script>
var options = {
  bottom: '64px',
  right: 'unset',
  left: '32px',
  time: '0.5s',
  mixColor: 'transparent',
  backgroundColor: 'transparent',
  buttonColorDark: '#100f2c',
  buttonColorLight: '#fff',
  saveInCookies: true,
  label: 'ğŸŒ“',
  autoMatchOsTheme: false
}
const darkmode = new Darkmode(options);
window.darkmode = darkmode;
darkmode.showWidget();
</script><script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-needmoreshare2@1/needsharebutton.min.js"></script><script>pbOptions={iconStyle:"box",boxForm:"horizontal",position:"bottomCenter",networks:"Weibo,Wechat,Douban,QQZone,Twitter,Facebook"},new needShareButton("#needsharebutton-postbottom",pbOptions)</script><script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : true,
      appId      : '7EJkVswo79CmfmbwincRPjrA-gzGzoHsz',
      appKey     : 'v7t6DWozwkcL2qIDeSC5kupC',
      placeholder: "è¯´ç‚¹ä»€ä¹ˆå§ï¼",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : true,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script></body></html>